{
  "code": "import { ui } from \"../../../ui/layaMaxUI\";\r\nimport { GameUIManager } from \"../../../manager/GameUIManager\";\r\nimport { DIYScene } from \"../../scene/DIYScene\";\r\nimport { DiyView } from \"./DiyView\";\r\nimport { DiyToolView } from \"./DiyToolView\";\r\nexport class DIYFinishView extends ui.view.DIYFinishViewUI {\r\n    constructor(data) {\r\n        super();\r\n    }\r\n    onEnable() {\r\n        this.width = Laya.stage.width;\r\n        this.height = Laya.stage.height;\r\n        this.InitEvent();\r\n        this.InitView();\r\n    }\r\n    onDisable() {\r\n    }\r\n    onDestroy() {\r\n        this.makeSureBtn.offAll();\r\n    }\r\n    onClose() {\r\n        GameUIManager.getInstance().destroyUI(DIYFinishView);\r\n    }\r\n    InitEvent() {\r\n        this.makeSureBtn.on(Laya.Event.CLICK, this, this.Finished);\r\n    }\r\n    InitView() {\r\n        this.scorePanel.visible = true;\r\n        this.scorePanel.mouseEnabled = true;\r\n        let tPot = DIYScene.instance.getPotted();\r\n        if (tPot) {\r\n            this.scoreImg.skin = tPot.GetQualityImg();\r\n        }\r\n    }\r\n    AddEff(ui, url, bLoop, posX = 0, posY = 0, scaleX = 1.05, scaleY = 1.05, interval = 50, rotation, callBack) {\r\n        this._ani = new Laya.Animation();\r\n        this._ani.loadAtlas(url, Laya.Handler.create(this, () => {\r\n            if (!ui || !this._ani) {\r\n                if (callBack) {\r\n                    callBack.run();\r\n                }\r\n                this._ani.offAll();\r\n                this._ani.destroy(true);\r\n                this._ani = null;\r\n                return;\r\n            }\r\n            this._ani.interval = interval;\r\n            this._ani.play(null, bLoop);\r\n            ui.addChild(this._ani);\r\n            let bounds = this._ani.frames[0].getBounds();\r\n            this._ani.pivot(bounds.width / 2, bounds.height / 2);\r\n            this._ani.pos(ui.width / 2, ui.height / 2);\r\n            this._ani.pos(this._ani.x + posX, this._ani.y + posY);\r\n            this._ani.scale(scaleX, scaleY);\r\n            this._ani.rotation = -30;\r\n            if (callBack) {\r\n                callBack.run();\r\n            }\r\n        })).play(null, bLoop);\r\n        this._ani.interval = interval;\r\n        this._ani.scale(scaleX, scaleY);\r\n        this._ani.blendMode = \"lighter\";\r\n        this._ani.pos(this._ani.x + posX, this._ani.y + posY);\r\n    }\r\n    Finished() {\r\n        this.onClose();\r\n        DIYScene.instance.savePoint();\r\n        DIYScene.instance.potted && DIYScene.instance.potted.clearSelect();\r\n        GameUIManager.getInstance().destroyUI(DiyView);\r\n        GameUIManager.getInstance().destroyUI(DiyToolView);\r\n    }\r\n}\r\n//# sourceMappingURL=DIYFinishView.js.map",
  "references": [
    "E:/project/duorou/client/src/ui/layaMaxUI.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/player/Player.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/common/CommonDefine.ts",
    "E:/project/duorou/client/src/manager/SceneManager.ts",
    "E:/project/duorou/client/src/game/scene/DIYScene.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DiyView.ts",
    "E:/project/duorou/client/src/game/item/Potted.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DiyToolView.ts"
  ],
  "map": "{\"version\":3,\"file\":\"DIYFinishView.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/DiyView/DIYFinishView.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
