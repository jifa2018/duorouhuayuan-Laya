{
  "code": "import { Singleton } from \"../../../common/Singleton\";\r\nimport { GEvent } from \"../../../common/GEvent\";\r\nimport { GacEvent } from \"../../../common/GacEvent\";\r\nimport { guide_Cfg, Constant_Cfg } from \"../../../manager/ConfigManager\";\r\nimport { Player } from \"../../player/Player\";\r\nimport { SaveManager, ModelStorage } from \"../../../manager/SaveManager\";\r\nimport { GuideView } from \"./GuideView\";\r\nimport { LayerManager } from \"../../../manager/LayerManager\";\r\nimport GameScene from \"../../scene/GameScene\";\r\nimport { Utils } from \"../../../utils/Utils\";\r\nimport { ViewManager } from \"../../../manager/ViewManager\";\r\nexport class GuideManager extends Singleton {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._closeGuide = false;\r\n        this._forceGuide = [];\r\n        this._NotForceGuide = [];\r\n        this._curid = -1;\r\n    }\r\n    get CurGuide() {\r\n        return this._guide;\r\n    }\r\n    get CurID() {\r\n        return this._curid;\r\n    }\r\n    set CurID(value) {\r\n        this._curid = value;\r\n        this._guide = null;\r\n        this.guideView = null;\r\n        if (this._curid == -1) {\r\n            SaveManager.getInstance().SetGuideID(this._curid);\r\n            GEvent.DispatchEvent(GacEvent.GuideOver);\r\n            return;\r\n        }\r\n        this._guide = new GuideInfo(guide_Cfg[this._curid]);\r\n        if (this._guide._guidesavepoint == 1) {\r\n            SaveManager.getInstance().SetGuideID(this._curid);\r\n        }\r\n    }\r\n    OnStart() {\r\n        if (Constant_Cfg[14].value == 0)\r\n            return;\r\n        if (!SaveManager.getInstance().GetCache(ModelStorage.GuideID)) {\r\n            SaveManager.getInstance().SetGuideID(1);\r\n            this.CurID = 1;\r\n        }\r\n        else {\r\n            let id = SaveManager.getInstance().GetCache(ModelStorage.GuideID);\r\n            if (id == -1)\r\n                return;\r\n            this.CurID = SaveManager.getInstance().GetCache(ModelStorage.GuideID);\r\n        }\r\n        GEvent.RegistEvent(GacEvent.OnUpdate, Laya.Handler.create(this, this.OnUpdate));\r\n        GEvent.RegistEvent(GacEvent.OnClickInSceneByGuide, Laya.Handler.create(this, this.OnClickInSceneByGuide));\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.UIClick);\r\n    }\r\n    NextStep() {\r\n        this.guideView.DestroyUI();\r\n        if (this.CurID == 12) {\r\n            GEvent.DispatchEvent(GacEvent.GuideCreateBubInScene);\r\n        }\r\n        this.CurID = this._guide._guideNextID;\r\n    }\r\n    OnClickInSceneByGuide(rat) {\r\n        if (this._guide != null && this.guideView != null) {\r\n            if (this._guide._guideClickPoint == rat.name) {\r\n                this.NextStep();\r\n            }\r\n        }\r\n    }\r\n    UIClick(params) {\r\n        if (params.target.name == \"\")\r\n            return;\r\n        if (this._guide == null || this.guideView == null)\r\n            return;\r\n        let node = params.target;\r\n        while (node) {\r\n            if (node.name != this._guide._guideClickPoint) {\r\n                node = node.parent;\r\n            }\r\n            else {\r\n                this.NextStep();\r\n                return;\r\n            }\r\n        }\r\n        return console.log(\"点击错误\");\r\n    }\r\n    OnUpdate() {\r\n        return;\r\n        if (this._guide != null && this.guideView == null && !this._closeGuide) {\r\n            for (let i in this._guide._guideActive) {\r\n                if (!this.JudgeCondition(Number(i), this._guide._guideActive[i])) {\r\n                    console.log(Number(i) + \"   \" + this.JudgeCondition(Number(i), this._guide._guideActive[i]));\r\n                    return;\r\n                }\r\n            }\r\n            Laya.MouseManager.enabled = false;\r\n            GameScene.instance.switchViewByIndex(this._guide._guideTab);\r\n            if (this._guide._guideCloseAllUI) {\r\n                ViewManager.getInstance().DestroyUIByHie(LayerManager.getInstance().topUILayer);\r\n            }\r\n            let point = new Laya.Point();\r\n            switch (this._guide._guideClassType) {\r\n                case (ClassType.Scene):\r\n                    let scene = GameScene.instance.scene3d;\r\n                    if (scene != null && scene.getChildByName(this._guide._guideNode[0])) {\r\n                        try {\r\n                            let node = this.FindNodeByDir(this._guide._guideNode);\r\n                            let vec = Utils.worldToScreen(GameScene.instance.camera, node.transform.position);\r\n                            point.x = vec.x - this._guide._guideSize.width / 2;\r\n                            point.y = vec.y - this._guide._guideSize.height / 2;\r\n                        }\r\n                        catch (_a) {\r\n                            console.log(\"节点未找到\");\r\n                            return;\r\n                        }\r\n                    }\r\n                    break;\r\n                case (ClassType.UI):\r\n                    let view = ViewManager.getInstance().GetViewByName(this._guide._guideNode[0]);\r\n                    if (view == null) {\r\n                    }\r\n                    let node = this.FindNodeByDir2D(this._guide._guideNode, view, 1);\r\n                    if (view != null && node) {\r\n                        point = node.localToGlobal(new Laya.Point(0, 0));\r\n                    }\r\n                    break;\r\n            }\r\n            if (point == null) {\r\n                return;\r\n            }\r\n            let map = new Map();\r\n            map.set(\"x\", point.x + this._guide._guideNodeOffset.x);\r\n            map.set(\"y\", point.y + this._guide._guideNodeOffset.y);\r\n            map.set(\"width\", this._guide._guideSize.width);\r\n            map.set(\"height\", this._guide._guideSize.height);\r\n            let isshowbub = this.ISShowBub();\r\n            let isshowbarr = this.ISShowArr();\r\n            this.guideView = new GuideView(map, isshowbub, isshowbarr);\r\n            Laya.MouseManager.enabled = true;\r\n            this._closeGuide = false;\r\n        }\r\n    }\r\n    OnDestroy() {\r\n    }\r\n    JudgeCondition(index, value) {\r\n        value = Number(value);\r\n        switch (index) {\r\n            case ActiveType.Stars:\r\n                return this.StarsIsEnough(value);\r\n            case ActiveType.Glod:\r\n                return this.GlodIsEnough(value);\r\n            case ActiveType.ConnNum:\r\n                return this.ConnNumIsEnough(value);\r\n            case ActiveType.ActiveUI:\r\n                return this.UIIsVisiOfName(value);\r\n            default:\r\n                {\r\n                    console.log(\"老哥 程序这边没有你配的激活条件\");\r\n                    break;\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n    SplitToStr(str, sym) {\r\n        return str.split(sym);\r\n    }\r\n    FindNodeByDir(list) {\r\n        let root = GameScene.instance.scene3d;\r\n        for (let i in list) {\r\n            let node = root.getChildByName(list[i]);\r\n            root = node;\r\n            if (Number(i) == list.length - 1) {\r\n                return root;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    FindNodeByDir2D(list, view, index) {\r\n        let node = null;\r\n        while (index < list.length) {\r\n            let name = list[index];\r\n            node = view.getChildByName(name);\r\n            view = node;\r\n            index += 1;\r\n        }\r\n        return node;\r\n    }\r\n    ISShowBub() {\r\n        let data = [false, this._guide._guideDec, this._guide._guideDecOffset];\r\n        if (this._guide._guideDec != \"\") {\r\n            data[0] = true;\r\n        }\r\n        return data;\r\n    }\r\n    ISShowArr() {\r\n        let data = [false, this._guide._guideAni, this._guide._guideAniOffset];\r\n        if (this._guide._guideAni != \"\") {\r\n            data[0] = true;\r\n        }\r\n        return data;\r\n    }\r\n    StarsIsEnough(starnum) {\r\n        return Player.getInstance().nStar >= starnum ? true : false;\r\n    }\r\n    GlodIsEnough(glodnum) {\r\n        return Player.getInstance().nGold >= glodnum ? true : false;\r\n    }\r\n    ConnNumIsEnough(connnum) {\r\n        return SaveManager.getInstance().GetCache(ModelStorage.ConnNum) >= connnum ? true : false;\r\n    }\r\n    UIIsVisiOfName(id) {\r\n        return GameScene.instance.curRollIndex == id ? true : false;\r\n    }\r\n    GetGuideState() {\r\n        return this._curid == -1 ? true : false;\r\n    }\r\n}\r\nvar ActiveType;\r\n(function (ActiveType) {\r\n    ActiveType[ActiveType[\"Stars\"] = 0] = \"Stars\";\r\n    ActiveType[ActiveType[\"Glod\"] = 1] = \"Glod\";\r\n    ActiveType[ActiveType[\"ConnNum\"] = 2] = \"ConnNum\";\r\n    ActiveType[ActiveType[\"ActiveUI\"] = 3] = \"ActiveUI\";\r\n})(ActiveType || (ActiveType = {}));\r\nvar ClassType;\r\n(function (ClassType) {\r\n    ClassType[ClassType[\"Scene\"] = 1] = \"Scene\";\r\n    ClassType[ClassType[\"UI\"] = 2] = \"UI\";\r\n})(ClassType || (ClassType = {}));\r\nclass GuideInfo {\r\n    constructor(parameters) {\r\n        this._guideSize = { width: 0, height: 0 };\r\n        this._guideAniOffset = { x: 0, y: 0 };\r\n        this._guideClassType = 1;\r\n        this._guideType = 1;\r\n        this._guideActive = {};\r\n        this._guideCloseAllUI = false;\r\n        this._guideDec = \"\";\r\n        this._guideDecOffset = { x: 0, y: 0 };\r\n        this._guideTab = 0;\r\n        this._guideClickPoint = \"\";\r\n        this._guidesavepoint = 0;\r\n        this._guideNodeOffset = { x: 0, y: 0 };\r\n        this._guideData = parameters;\r\n        if (this._guideData[\"strnode\"].indexOf(\"/\") != -1) {\r\n            this._guideNode = this._guideData[\"strnode\"].split(\"/\");\r\n        }\r\n        else {\r\n            this._guideNode.push(this._guideData[\"strnode\"]);\r\n        }\r\n        let guidesize = this._guideData[\"strregion_size\"].split(\"*\");\r\n        this._guideSize.width = Number(guidesize[0]);\r\n        this._guideSize.height = Number(guidesize[1]);\r\n        this._guideAni = this._guideData[\"strindicate\"];\r\n        let guideoffset = this._guideData[\"strexcursion\"].split(\",\");\r\n        this._guideAniOffset.x = Number(guideoffset[0]);\r\n        this._guideAniOffset.y = Number(guideoffset[1]);\r\n        this._guideClassType = this._guideData[\"object_type\"];\r\n        this._guideType = this._guideData[\"guide_type\"];\r\n        this._guideNextID = this._guideData[\"next\"];\r\n        this.SetGuideActiveInfo(this._guideData[\"strtouch_off\"]);\r\n        this._guideCloseAllUI = this._guideData[\"Close_all\"] == 1 ? false : true;\r\n        this._guideDec = this._guideData[\"strdeclare\"];\r\n        let guidedecoffset = this._guideData[\"strpopoexcursion\"].split(\",\");\r\n        this._guideDecOffset.x = Number(guidedecoffset[0]);\r\n        this._guideDecOffset.y = Number(guidedecoffset[1]);\r\n        this._guideClickPoint = this._guideData[\"strClickPoint\"];\r\n        this._guideTab = this._guideData[\"paging\"];\r\n        this._guidesavepoint = this._guideData[\"save\"];\r\n        let guideNodeOffset = this._guideData[\"strNodeExcursion\"].split(\",\");\r\n        this._guideNodeOffset.x = Number(guideNodeOffset[0]);\r\n        this._guideNodeOffset.y = Number(guideNodeOffset[1]);\r\n    }\r\n    SetGuideActiveInfo(str) {\r\n        var first = str.indexOf(\"{\");\r\n        var end = str.indexOf(\"}\");\r\n        var alldata = str.substring(first + 1, end);\r\n        var par = alldata.split(\",\");\r\n        for (let i in par) {\r\n            let evedata = par[i].split(\":\");\r\n            this._guideActive[evedata[0]] = evedata[1];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=GuideManager.js.map",
  "references": [
    "E:/project/duorou/client/src/common/Singleton.ts",
    "E:/project/duorou/client/src/common/GEvent.ts",
    "E:/project/duorou/client/src/common/GacEvent.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/common/Debug.ts",
    "E:/project/duorou/client/src/game/player/Player.ts",
    "E:/project/duorou/client/src/manager/SaveManager.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/ui/Guide/GuideView.ts",
    "E:/project/duorou/client/src/manager/LayerManager.ts",
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/ViewManager.ts",
    "E:/project/duorou/client/src/common/ClassRegister.ts",
    "E:/project/duorou/client/src/game/net/RemoteCall.ts",
    "E:/project/duorou/client/src/platform/WxCfgData.ts"
  ],
  "map": "{\"version\":3,\"file\":\"GuideManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/Guide/GuideManager.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
