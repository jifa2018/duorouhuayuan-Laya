{
  "code": "export class GuideView {\r\n    constructor(dMap, showbub, showarr) {\r\n        this.root = new Laya.Sprite();\r\n        this.root.name = \"GuideRoot\";\r\n        Laya.stage.addChild(this.root);\r\n        var gameContainer = new Laya.Sprite();\r\n        gameContainer.x = 0;\r\n        gameContainer.y = 0;\r\n        gameContainer.width = Laya.stage.width;\r\n        gameContainer.height = Laya.stage.height;\r\n        gameContainer.mouseEnabled = false;\r\n        this.root.addChild(gameContainer);\r\n        this.guideContainer = new Laya.Box();\r\n        this.guideContainer.width = Laya.stage.width;\r\n        this.guideContainer.height = Laya.stage.height;\r\n        this.guideContainer.cacheAs = \"bitmap\";\r\n        this.root.addChild(this.guideContainer);\r\n        var maskArea = new Laya.Sprite();\r\n        maskArea.alpha = 0.5;\r\n        maskArea.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000\");\r\n        this.guideContainer.addChild(maskArea);\r\n        this.interactionArea = new Laya.Sprite();\r\n        this.interactionArea.blendMode = \"destination-out\";\r\n        this.guideContainer.addChild(this.interactionArea);\r\n        let x = Number(dMap.get(\"x\"));\r\n        let y = Number(dMap.get(\"y\"));\r\n        let width = Number(dMap.get(\"width\"));\r\n        let height = Number(dMap.get(\"height\"));\r\n        this.interactionArea.graphics.drawRect(x, y, width, height, \"#ffffff\");\r\n        this.hitArea = new Laya.HitArea();\r\n        this.hitArea.hit.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000\");\r\n        this.hitArea.unHit.drawRect(x, y, width, height, \"#fffffff\");\r\n        this.guideContainer.hitArea = this.hitArea;\r\n        this.guideContainer.mouseEnabled = true;\r\n        this.guideContainer.on(Laya.Event.CLICK, this, function () {\r\n        });\r\n        if (showbub != null && showbub[0]) {\r\n            this.ShowContent(showbub[1], showbub[2]);\r\n        }\r\n        if (showarr != null && showarr[0]) {\r\n            this.ShowArrows(showarr[2]);\r\n        }\r\n    }\r\n    DestroyUI() {\r\n        this.root.destroy();\r\n    }\r\n    ShowContent(text, posdata) {\r\n        let imgbg = new Laya.Image();\r\n        imgbg.sizeGrid = \"20,29,34,49,0\";\r\n        imgbg.skin = \"gameui/guide/bubbg.png\";\r\n        imgbg.anchorX = 0.5;\r\n        imgbg.anchorY = 0.5;\r\n        imgbg.x = Number(posdata.x);\r\n        imgbg.y = Number(posdata.y);\r\n        this.guideContainer.addChild(imgbg);\r\n        var html = \"\";\r\n        var htmlDiv = new Laya.Label();\r\n        htmlDiv.pos(21, 24);\r\n        htmlDiv.fontSize = 25;\r\n        if (text.indexOf(\"/n\") != -1) {\r\n            let texts = text.split('/n');\r\n            let len = 0;\r\n            for (let i = 0; i < texts.length; i++) {\r\n                html += texts[i] + \"\\n\";\r\n                len = len > texts[i].length ? len : texts[i].length;\r\n            }\r\n            htmlDiv.width = len * 25;\r\n            htmlDiv.height = 25 * texts.length;\r\n        }\r\n        else {\r\n            htmlDiv.width = text.length * 25;\r\n            htmlDiv.height = 25;\r\n            html = text;\r\n        }\r\n        imgbg.width = htmlDiv.width + 40;\r\n        imgbg.height = htmlDiv.height + 70;\r\n        htmlDiv.text = html;\r\n        imgbg.addChild(htmlDiv);\r\n    }\r\n    ShowArrows(pos, url) {\r\n        Laya.loader.load(\"res/atlas/gameui/guide.atlas\", Laya.Handler.create(this, function (aa) {\r\n            let anim = new Laya.Animation();\r\n            anim.name = \"ani\";\r\n            anim.loadAnimation(\"view/common/TempGuideAni.ani\");\r\n            anim.pos(pos.x, pos.y);\r\n            this.guideContainer.addChild(anim);\r\n            anim.play(0, true);\r\n        }));\r\n    }\r\n}\r\n//# sourceMappingURL=GuideView.js.map",
  "references": [
    "E:/project/duorou/client/src/manager/LayerManager.ts",
    "E:/project/duorou/client/src/game/ui/Guide/GuideManager.ts",
    "E:/project/duorou/client/src/game/item/Point.ts",
    "E:/project/duorou/client/src/game/ui/Common/GuideBubView.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts"
  ],
  "map": "{\"version\":3,\"file\":\"GuideView.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/Guide/GuideView.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
