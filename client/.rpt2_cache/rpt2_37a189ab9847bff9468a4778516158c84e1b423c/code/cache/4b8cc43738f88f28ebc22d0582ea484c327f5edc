{
  "code": "var Sprite = Laya.Sprite;\r\nimport { Utils } from \"../../../utils/Utils\";\r\nvar Handler = Laya.Handler;\r\nvar ProgressBar = Laya.ProgressBar;\r\nimport { LayerManager } from \"../../../manager/LayerManager\";\r\nexport class VisitorProgressBar extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.bubble = new Sprite();\r\n    }\r\n    init(camera, owner = null, handler = null) {\r\n        this.sceneCamera = camera;\r\n        this.owner = owner;\r\n        this.callback = handler;\r\n        if (!this.progress) {\r\n            Laya.loader.load([\"res/image/progressBar.png\", \"res/image/progressBar$bar.png\"], Handler.create(this, function () {\r\n                this.progress = new ProgressBar(\"res/image/progressBar.png\");\r\n                this.progress.width = 80;\r\n                this.progress.height = 20;\r\n                this.progress.sizeGrid = \"5,5,5,5\";\r\n                this.progress.pivot(this.progress.width / 2, this.progress.height);\r\n                this.addChild(this.progress);\r\n                this.setPosition();\r\n                Laya.timer.loop(10, this, this.setPosition);\r\n                LayerManager.getInstance().downUILayer.addChild(this);\r\n                this.callback && this.callback.run();\r\n            }));\r\n        }\r\n        else {\r\n            this.setProgress(0);\r\n            Laya.timer.loop(10, this, this.setPosition);\r\n            LayerManager.getInstance().uiLayer.addChild(this);\r\n            this.callback && this.callback.run();\r\n        }\r\n    }\r\n    setProgress(value) {\r\n        this.progress.value = value;\r\n    }\r\n    setPosition() {\r\n        if (!this.owner)\r\n            return;\r\n        var v2 = Utils.worldToScreen(this.sceneCamera, this.owner.transform.position);\r\n        this.pos(v2.x, v2.y - 90);\r\n    }\r\n    isMove() {\r\n        return this.owner.isMove;\r\n    }\r\n    destroy(destroyChild) {\r\n        this.removeSelf();\r\n        Laya.timer.clear(this, this.setPosition);\r\n    }\r\n}\r\n//# sourceMappingURL=VisitorProgressBar.js.map",
  "references": [
    "E:/project/duorou/client/src/game/npc/NpcBase.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/LayerManager.ts"
  ],
  "map": "{\"version\":3,\"file\":\"VisitorProgressBar.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/ProgressBar/VisitorProgressBar.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
