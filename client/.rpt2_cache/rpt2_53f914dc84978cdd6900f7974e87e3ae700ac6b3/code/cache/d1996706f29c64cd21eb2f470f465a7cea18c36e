{
  "code": "import SceneBase from \"./SceneBase\";\r\nvar Handler = Laya.Handler;\r\nimport { Utils } from \"../../utils/Utils\";\r\nimport { GameUIManager } from \"../../manager/GameUIManager\";\r\nvar Vector3 = Laya.Vector3;\r\nvar Event = Laya.Event;\r\nvar MouseManager = Laya.MouseManager;\r\nvar Point = Laya.Point;\r\nvar Vector2 = Laya.Vector2;\r\nimport { Tree } from \"../item/Tree\";\r\nimport { CommonDefine } from \"../../common/CommonDefine\";\r\nimport MouseController from \"../script/MouseController\";\r\nimport { Debug } from \"../../common/Debug\";\r\nimport { DiyToolView } from \"../ui/DiyView/DiyToolView\";\r\nimport { Potted } from \"../item/Potted\";\r\nimport { Global } from \"../../utils/Global\";\r\nvar ShadowMode = Laya.ShadowMode;\r\nimport { Tree_Cfg, Succulent_Cfg } from \"../../manager/ConfigManager\";\r\nvar Box = Laya.Box;\r\nvar Button = Laya.Button;\r\nimport { PotManager } from \"../../manager/PotManager\";\r\nimport { BagSystem } from \"../bag/BagSystem\";\r\nimport { DiyView } from \"../ui/DiyView/DiyView\";\r\nimport { SwitchScene } from \"../ui/SwitchScene\";\r\nimport { LoadingScenes1 } from \"../ui/LoadingScenes1\";\r\nimport { SaveManager, ModelStorage } from \"../../manager/SaveManager\";\r\nimport { DIYFinishView } from \"../ui/DiyView/DIYFinishView\";\r\nimport { ViewManager } from \"../../manager/ViewManager\";\r\nimport { GEvent } from \"../../common/GEvent\";\r\nimport { GacEvent } from \"../../common/GacEvent\";\r\nexport class DIYScene extends SceneBase {\r\n    constructor() {\r\n        super();\r\n        this._dragTarget = null;\r\n        this._editTarget = null;\r\n        this.curCheckedTree = null;\r\n        this.caneraAngleTime = 600;\r\n        this.point = new Vector2();\r\n        this.offset = new Vector2();\r\n        this._touchPoint = new Point();\r\n        this._closeDistance = 2;\r\n        this._enterType = 0;\r\n    }\r\n    onEnable() {\r\n        super.onEnable();\r\n        Laya.stage.on(Event.MOUSE_DOWN, this, this.onDragBegin);\r\n        Laya.stage.on(Event.MOUSE_MOVE, this, this.onDragMove);\r\n        Laya.stage.on(Event.MOUSE_UP, this, this.onDragEnd);\r\n        Laya.stage.on(CommonDefine.EVENT_CREATE_TREE, this, this.createTree);\r\n        Laya.stage.on(CommonDefine.EVENT_CHECKED_POTTED, this, this.checkedPooted);\r\n        Laya.stage.on(CommonDefine.EVENT_CHECKED_POTTED_FINISH, this, this.checkedPottedFinish);\r\n    }\r\n    onDisable() {\r\n        super.onDisable();\r\n        Laya.stage.off(Event.MOUSE_DOWN, this, this.onDragBegin);\r\n        Laya.stage.off(Event.MOUSE_MOVE, this, this.onDragMove);\r\n        Laya.stage.off(Event.MOUSE_UP, this, this.onDragEnd);\r\n        Laya.stage.off(CommonDefine.EVENT_CREATE_TREE, this, this.createTree);\r\n        Laya.stage.off(CommonDefine.EVENT_CHECKED_POTTED, this, this.checkedPooted);\r\n        Laya.stage.off(CommonDefine.EVENT_CHECKED_POTTED_FINISH, this, this.checkedPottedFinish);\r\n    }\r\n    get editorMode() {\r\n        return this._editorMode;\r\n    }\r\n    set editorMode(b) {\r\n        this._editorMode = b;\r\n        if (b) {\r\n            this.potted.setSelect(this._editTarget);\r\n            this._selectTarget = true;\r\n            this.script3d.rotateEnable = false;\r\n        }\r\n        else {\r\n            this._editTarget = null;\r\n            this.potted.clearSelect();\r\n            this.script3d.rotateEnable = true;\r\n        }\r\n    }\r\n    set editTarget(tar) {\r\n        this._editTarget = tar;\r\n    }\r\n    get getCurCheckedTree() {\r\n        return this.curCheckedTree;\r\n    }\r\n    static get instance() {\r\n        if (!DIYScene._instance)\r\n            DIYScene._instance = new DIYScene();\r\n        return DIYScene._instance;\r\n    }\r\n    showScene(param, handler) {\r\n        super.showScene(param, handler);\r\n        this._pointName = param[0];\r\n        this._pointIndex = param[1];\r\n        this._enterType = param[2] || 0;\r\n        this._callback = handler;\r\n        if (!this.scene3d) {\r\n            Laya.loader.create(\"res/scene/viewscene/Scenes_duorou.ls\", Handler.create(this, this.onSceneLoaded));\r\n        }\r\n        else {\r\n            this.addChild(this.scene3d);\r\n            this.checkCache(this._pointName);\r\n            GameUIManager.getInstance().hideTopUI(LoadingScenes1);\r\n            this._callback && this._callback.run();\r\n        }\r\n        if (this.potted) {\r\n            GameUIManager.getInstance().showUI(DiyView);\r\n        }\r\n        GameUIManager.getInstance().hideUI(SwitchScene);\r\n    }\r\n    onSceneLoaded(scene3d) {\r\n        scene3d.getChildByName(\"Object\").getChildByName(\"Particle System (1)\").active = false;\r\n        scene3d.fogStart = 4;\r\n        this.scene3d = scene3d;\r\n        this.addChild(scene3d);\r\n        this.camera = scene3d._cameraPool[0];\r\n        this.script3d = this.camera.addComponent(MouseController);\r\n        this.script3d.rotateEnable = true;\r\n        this.script3d.moveEnable = false;\r\n        this.script3d.scaleEnable = true;\r\n        Utils.createBloom(this.camera, { intensity: 4, threshold: 1.1, softKnee: 0.5, clamp: 65472, diffusion: 5, anamorphicRatio: 0.0, color: new Laya.Color(1, 0.84, 0, 1), fastMode: true });\r\n        this.ground = scene3d.getChildByName(\"Object\").getChildByName(\"dimian\");\r\n        this.light = scene3d.getChildByName(\"Spot Light (1)\");\r\n        this.ground.meshRenderer.receiveShadow = true;\r\n        this.light.shadowMode = ShadowMode.SoftHigh;\r\n        this.light.shadowDistance = 4;\r\n        this.light.shadowResolution = 1024;\r\n        this.light.shadowDepthBias = 1.0;\r\n        this.light.shadowStrength = 0.6;\r\n        this.light.shadowNearPlane = 0.001;\r\n        this.checkCache(this._pointName);\r\n        GameUIManager.getInstance().hideTopUI(LoadingScenes1);\r\n        if (this._callback) {\r\n            this._callback.run();\r\n        }\r\n    }\r\n    initCameraData(pottedId) {\r\n        if (!Tree_Cfg[pottedId])\r\n            return;\r\n        this._size = Tree_Cfg[pottedId].big;\r\n        var str = Tree_Cfg[pottedId].str1position;\r\n        var arr = str.split(\",\");\r\n        this._frontPos = new Vector3(Number(arr[0]), Number(arr[1]), Number(arr[2]));\r\n        str = Tree_Cfg[pottedId].str1rotation;\r\n        arr = str.split(\",\");\r\n        this._frontRot = new Vector3(-Number(arr[0]), Number(arr[1]) - 180, Number(arr[2]));\r\n        str = Tree_Cfg[pottedId].str2position;\r\n        arr = str.split(\",\");\r\n        this._topPos = new Vector3(Number(arr[0]), Number(arr[1]), Number(arr[2]));\r\n        str = Tree_Cfg[pottedId].str2rotation;\r\n        arr = str.split(\",\");\r\n        this._topRot = new Vector3(-Number(arr[0]), Number(arr[1]) - 180, Number(arr[2]));\r\n        this.camera.transform.position = this._frontPos;\r\n        this.camera.transform.rotationEuler = this._frontRot;\r\n    }\r\n    checkCache(str) {\r\n        this.clear();\r\n        var localData = PotManager.getInstance().PotMap[str];\r\n        if (localData && this._enterType == 1) {\r\n            this.loadPottedByData(localData.PointDataList[this._pointIndex]);\r\n        }\r\n        else {\r\n            this.loadPottedDefault();\r\n        }\r\n    }\r\n    loadPottedDefault() {\r\n    }\r\n    set dragTarget(target) {\r\n        this._dragTarget = target;\r\n    }\r\n    get dragTarget() {\r\n        return this._dragTarget;\r\n    }\r\n    loadPottedById(id) {\r\n        if (this.pottedDefult) {\r\n            this.pottedDefult.destroy();\r\n            this.pottedDefult = null;\r\n        }\r\n        this.initCameraData(id);\r\n        this.potted = new Potted();\r\n        this.potted.initPotted(id, Handler.create(this, function () {\r\n            this.scene3d.addChild(this.potted);\r\n            this.potted.transform.position = new Vector3(0, 0, 0);\r\n            this.script3d.setTarget(this.potted);\r\n            Utils.setMeshCastShadow(this.potted, true);\r\n        }));\r\n    }\r\n    loadPottedByData(data) {\r\n        this.initCameraData(data.containerId);\r\n        Potted.createByData(data, Handler.create(this, function (potted) {\r\n            if (!potted)\r\n                return;\r\n            this.potted = potted;\r\n            potted.transform.rotationEuler = new Vector3(0, data.rotateY, 0);\r\n            this.script3d.setTarget(this.potted);\r\n            this.scene3d.addChild(potted);\r\n            Utils.setMeshCastShadow(this.potted, true);\r\n        }));\r\n    }\r\n    onDragBegin(e) {\r\n        if (e.target instanceof Button) {\r\n            return;\r\n        }\r\n        let view = ViewManager.getInstance().GetViewByClass(DIYFinishView);\r\n        if (view) {\r\n            return;\r\n        }\r\n        if (e.target instanceof Box)\r\n            return;\r\n        if (e.target instanceof Button)\r\n            return;\r\n        this.point.x = MouseManager.instance.mouseX;\r\n        this.point.y = MouseManager.instance.mouseY;\r\n        this._touchPoint.x = MouseManager.instance.mouseX;\r\n        this._touchPoint.y = MouseManager.instance.mouseY;\r\n        this.offset.x = 0;\r\n        this.offset.y = 0;\r\n        this._isMouseDown = true;\r\n        var outHitResult = Utils.rayCastOne(this.point, this.scene3d, this.camera);\r\n        if (outHitResult.succeeded) {\r\n            console.log(\"碰撞到物体！！\");\r\n            if (outHitResult.collider.owner && outHitResult.collider.owner.parent instanceof Tree) {\r\n                this.script3d.rotateEnable = false;\r\n                var _tree = outHitResult.collider.owner.parent;\r\n                if (this._editTarget && this._editTarget.treeIndex != _tree.treeIndex) {\r\n                    this._selectTarget = false;\r\n                    return;\r\n                }\r\n                this.editTarget = _tree;\r\n                this.editorMode = true;\r\n                var ox = MouseManager.instance.mouseX;\r\n                var oy = MouseManager.instance.mouseY;\r\n                var mx = Utils.worldToScreen(this.camera, this._editTarget.transform.position);\r\n                this.offset.x = mx.x - ox;\r\n                this.offset.y = mx.y - oy;\r\n            }\r\n        }\r\n        else\r\n            this._selectTarget = false;\r\n        return;\r\n        if (Global.sceneLock)\r\n            return;\r\n        this.isMove = false;\r\n        this.point.x = MouseManager.instance.mouseX;\r\n        this.point.y = MouseManager.instance.mouseY;\r\n        this.offset.x = 0;\r\n        this.offset.y = 0;\r\n        var outHitResult = Utils.rayCastOne(this.point, this.scene3d, this.camera);\r\n        if (outHitResult.succeeded) {\r\n            console.log(\"碰撞到物体！！\");\r\n            if (outHitResult.collider.owner && outHitResult.collider.owner.parent instanceof Tree) {\r\n                this.dragTarget = outHitResult.collider.owner.parent;\r\n                if (this.editorMode && this.dragTarget.treeIndex == this._editTarget.treeIndex) {\r\n                    this._editorTargetDown = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onDragMove(e) {\r\n        if (!this._isMouseDown || !this._editTarget || !this.editorMode || !this._selectTarget) {\r\n            return;\r\n        }\r\n        var height = this._size == 1 ? this.potted.getFloorHeight() : 0.1;\r\n        this._editTarget.setPosition(Utils.screenToWorld(new Point(MouseManager.instance.mouseX + this.offset.x, MouseManager.instance.mouseY + this.offset.y), this.camera, height, 1.0));\r\n        if (Math.abs(this._touchPoint.x - MouseManager.instance.mouseX) > this._closeDistance || Math.abs(this._touchPoint.y - MouseManager.instance.mouseY) > this._closeDistance)\r\n            GameUIManager.getInstance().hideUI(DiyToolView);\r\n        if (this._editTarget.isPlanted) {\r\n            this.point.x = MouseManager.instance.mouseX + this.offset.x;\r\n            this.point.y = MouseManager.instance.mouseY + this.offset.y;\r\n            var arr = Utils.rayCastAll(this.point, this.scene3d, this.camera);\r\n            var result = this.potted.canPut(arr);\r\n            if (!result) {\r\n                this.potted.removeNotice(this._editTarget);\r\n            }\r\n            else {\r\n                this.potted.clearRemoveNotice(this._editTarget);\r\n            }\r\n        }\r\n        return;\r\n        if (this.editorMode) {\r\n            this.script3d.rotateEnable = false;\r\n            if (this._editorTargetDown) {\r\n                this._editTarget.setPosition(Utils.screenToWorld(new Point(MouseManager.instance.mouseX + this.offset.x, MouseManager.instance.mouseY + this.offset.y), this.camera, height, 1.0));\r\n                this.isMove = true;\r\n            }\r\n        }\r\n        else {\r\n            if (Global.sceneLock)\r\n                return;\r\n            if (!this.dragTarget)\r\n                return;\r\n            var height = this.potted.getFloorHeight();\r\n            this.dragTarget.setPosition(Utils.screenToWorld(new Point(MouseManager.instance.mouseX + this.offset.x, MouseManager.instance.mouseY + this.offset.y), this.camera, height, 1.0));\r\n            this.isMove = true;\r\n            if (this.dragTarget.isPlanted) {\r\n                this.point.x = MouseManager.instance.mouseX + this.offset.x;\r\n                this.point.y = MouseManager.instance.mouseY + this.offset.y;\r\n                var arr = Utils.rayCastAll(this.point, this.scene3d, this.camera);\r\n                var result = this.potted.canPut(arr);\r\n                if (!result) {\r\n                    this.potted.removeNotice(this.dragTarget);\r\n                }\r\n                else {\r\n                    this.potted.clearRemoveNotice(this.dragTarget);\r\n                }\r\n            }\r\n            this.script3d.rotateEnable = false;\r\n        }\r\n    }\r\n    onDragEnd(e) {\r\n        this._isMouseDown = false;\r\n        if (!this._editTarget || !this._selectTarget)\r\n            return;\r\n        this._selectTarget = false;\r\n        this.point.x = MouseManager.instance.mouseX + this.offset.x;\r\n        this.point.y = MouseManager.instance.mouseY + this.offset.y;\r\n        var arr = Utils.rayCastAll(this.point, this.scene3d, this.camera);\r\n        var result = this.potted.canPut(arr);\r\n        let isCreate = false;\r\n        if (result) {\r\n            if (this._editTarget.isPlanted) {\r\n                this._editTarget.setPosition(result);\r\n                isCreate = false;\r\n            }\r\n            else {\r\n                this._editTarget.isSave = false;\r\n                this.potted.addTreeByInstance(this._editTarget, result, true);\r\n                BagSystem.getInstance().delItem(this._editTarget.id, 1);\r\n                isCreate = true;\r\n                let data = { name: \"diyClick\" };\r\n                GEvent.DispatchEvent(GacEvent.OnClickInSceneByGuide, data);\r\n            }\r\n            this.getTreeInPotted(this._editTarget, isCreate);\r\n        }\r\n        else {\r\n            this.potted.delTree(this._editTarget);\r\n            this.editTarget = null;\r\n            this.editorMode = false;\r\n        }\r\n        Laya.stage.event(CommonDefine.EVENT_DIYUI_REFRESH);\r\n        return;\r\n    }\r\n    clear() {\r\n        this.pottedDefult = null;\r\n        this.potted && this.potted.destroy();\r\n        this.potted = null;\r\n        this.dragTarget = null;\r\n    }\r\n    getTreeInPotted(_tree, isCreate) {\r\n        if (_tree.isPlanted) {\r\n            this.curCheckedTree = _tree;\r\n            GameUIManager.getInstance().createUI(DiyToolView, [_tree], Laya.Handler.create(this, (view) => {\r\n                view.setCurTree(_tree, isCreate);\r\n            }));\r\n            Debug.Log(this.curCheckedTree);\r\n        }\r\n        else {\r\n            Debug.LogError(\"花盆中没有这个植物\");\r\n        }\r\n    }\r\n    createTree(treeId) {\r\n        let v3 = Utils.screenToWorld(new Point(MouseManager.instance.mouseX, MouseManager.instance.mouseY), this.camera, 0.4);\r\n        var tree = new Tree(treeId);\r\n        tree.setPosition(v3);\r\n        this.scene3d.addChild(tree);\r\n        this.editTarget = tree;\r\n        this.editorMode = true;\r\n    }\r\n    savePotted() {\r\n        if (this.potted) {\r\n            PotManager.getInstance().SavePot(this._pointName, this._pointIndex, this.potted);\r\n        }\r\n    }\r\n    RemoveTree() {\r\n        if (!this._editTarget)\r\n            return;\r\n        this.potted.delTree(this._editTarget);\r\n        this.editTarget = null;\r\n        this.editorMode = false;\r\n    }\r\n    savePoint() {\r\n        if (this.potted) {\r\n            if (!PotManager.getInstance().PotMap[this._pointName] || !PotManager.getInstance().PotMap[this._pointName].PotList[this._pointIndex]) {\r\n                PotManager.getInstance().AddPot(this._pointName, this._pointIndex, this.potted);\r\n            }\r\n        }\r\n    }\r\n    resetPotted() {\r\n        Potted.createByData(SaveManager.getInstance().GetCache(ModelStorage.plant), Handler.create(this, function (potted) {\r\n            if (!potted)\r\n                return;\r\n            this.potted = potted;\r\n            this.script3d.setTarget(this.potted);\r\n            this.scene3d.addChild(potted);\r\n        }));\r\n    }\r\n    caneraAngle(state) {\r\n        if (state) {\r\n            let pos = this._topPos;\r\n            let rot = this._topRot;\r\n            Laya.Tween.to(this.camera.transform.position, {\r\n                x: pos.x, y: pos.y, z: pos.z, update: new Handler(this, function () {\r\n                    this.camera.transform.position = this.camera.transform.position;\r\n                })\r\n            }, this.caneraAngleTime);\r\n            Laya.Tween.to(this.camera.transform.rotationEuler, {\r\n                x: rot.x, y: rot.y, z: rot.z, update: new Handler(this, function () {\r\n                    this.camera.transform.rotationEuler = this.camera.transform.rotationEuler;\r\n                })\r\n            }, this.caneraAngleTime);\r\n        }\r\n        else {\r\n            let pos = this._frontPos;\r\n            let rot = this._frontRot;\r\n            Laya.Tween.to(this.camera.transform.position, {\r\n                x: pos.x, y: pos.y, z: pos.z, update: new Handler(this, function () {\r\n                    this.camera.transform.position = this.camera.transform.position;\r\n                })\r\n            }, this.caneraAngleTime);\r\n            Laya.Tween.to(this.camera.transform.rotationEuler, {\r\n                x: rot.x, y: rot.y, z: rot.z, update: new Handler(this, function () {\r\n                    this.camera.transform.rotationEuler = this.camera.transform.rotationEuler;\r\n                })\r\n            }, this.caneraAngleTime);\r\n        }\r\n    }\r\n    payBack() {\r\n        this.potted && this.potted.payBack();\r\n    }\r\n    checkedPooted(_containerId) {\r\n        this.loadPottedById(_containerId);\r\n    }\r\n    checkedPottedFinish() {\r\n        GameUIManager.getInstance().showUI(DiyView);\r\n    }\r\n    getPottedTreeNumber() {\r\n        if (this.potted) {\r\n            return this.potted._treeList.length;\r\n        }\r\n    }\r\n    getPottedMaxNum() {\r\n        if (this.potted && this.potted.containerId) {\r\n            return Succulent_Cfg[this.potted.containerId].capacity;\r\n        }\r\n    }\r\n    getPotted() {\r\n        return this.potted;\r\n    }\r\n}\r\nDIYScene._instance = null;\r\n//# sourceMappingURL=DIYScene.js.map",
  "references": [
    "E:/project/duorou/client/src/game/scene/SceneBase.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/item/Tree.ts",
    "E:/project/duorou/client/src/common/CommonDefine.ts",
    "E:/project/duorou/client/src/game/script/MouseController.ts",
    "E:/project/duorou/client/src/common/Debug.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DiyToolView.ts",
    "E:/project/duorou/client/src/game/item/Potted.ts",
    "E:/project/duorou/client/src/utils/Global.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/manager/PotManager.ts",
    "E:/project/duorou/client/src/game/bag/BagSystem.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DiyView.ts",
    "E:/project/duorou/client/src/game/ui/SwitchScene.ts",
    "E:/project/duorou/client/src/game/ui/LoadingScenes1.ts",
    "E:/project/duorou/client/src/manager/SaveManager.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DIYFinishView.ts",
    "E:/project/duorou/client/src/manager/ViewManager.ts",
    "E:/project/duorou/client/src/common/GEvent.ts",
    "E:/project/duorou/client/src/common/GacEvent.ts"
  ],
  "map": "{\"version\":3,\"file\":\"DIYScene.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/game/scene/DIYScene.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
