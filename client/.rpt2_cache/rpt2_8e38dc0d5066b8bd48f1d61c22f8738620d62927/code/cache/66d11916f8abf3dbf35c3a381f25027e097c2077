{
  "code": "export class IndexDecorateItem {\r\n    constructor(pref, index, view, name) {\r\n        this._heightoffset = 132;\r\n        this.list = null;\r\n        this.pref = pref;\r\n        this.index = index;\r\n        this.view = view;\r\n        this.init();\r\n        this.img_bg = this.list.getChildByName(\"img_bg\");\r\n        this.more = this.list.getChildByName(\"more\");\r\n        this.listHeight = this.list.height;\r\n        this.name = name;\r\n    }\r\n    get getList() {\r\n        return this.list;\r\n    }\r\n    get getName() {\r\n        return name;\r\n    }\r\n    onDestroy() {\r\n        this.more.offAll();\r\n    }\r\n    init() {\r\n        let pre = new Laya.Prefab();\r\n        pre.json = this.pref;\r\n        this.list = Laya.Pool.getItemByCreateFun(\"decorateList\", pre.create, pre);\r\n        this.list.name = \"decorate_list_\" + this.index;\r\n    }\r\n    renderList(cell, index) {\r\n        let img = cell.getChildByName(\"decorate_item\");\r\n        img.width = 100;\r\n        img.height = 100;\r\n        let imgSelect = cell.getChildByName(\"sign_selected\");\r\n        let imgUplock = cell.getChildByName(\"sign_uplock\");\r\n        img.skin = cell.dataSource.strStatueIcon;\r\n        let _id = cell.dataSource.id;\r\n        let extend = this.list[\"extend\"];\r\n        if (extend) {\r\n            imgUplock.visible = true;\r\n            imgSelect.visible = false;\r\n            cell.disabled = false;\r\n            if (extend.unLock.indexOf(_id) == -1 && extend.isMeet.indexOf(_id) == -1) {\r\n                imgUplock.skin = \"gameui/lock.png\";\r\n                cell.disabled = true;\r\n            }\r\n            else if (extend.isMeet.indexOf(_id) != -1) {\r\n                imgUplock.skin = \"gameui/zs/img_upLock.png\";\r\n            }\r\n            else {\r\n                imgUplock.visible = false;\r\n            }\r\n            if (extend.selected.indexOf(_id) != -1) {\r\n                imgSelect.visible = true;\r\n            }\r\n        }\r\n    }\r\n    eventList(e) {\r\n        if (e.type == \"click\") {\r\n            let extend = this.list[\"extend\"];\r\n            let _box = e.currentTarget;\r\n            if (extend.unLock.indexOf(_box.dataSource.id) != -1) {\r\n                console.log(\"已解锁\");\r\n            }\r\n            else {\r\n                console.log(\"未解锁\");\r\n            }\r\n        }\r\n    }\r\n    setArray(data) {\r\n        this.list.array = data.arrDecorate;\r\n        this.list[\"extend\"] = data.extend;\r\n    }\r\n    setTitle(str) {\r\n        let _titile = this.list.getChildByName(\"title\");\r\n        _titile.text = str || \"\";\r\n        _titile.color = \"#000\";\r\n    }\r\n    setMoreEvent() {\r\n        this.more.on(Laya.Event.CLICK, this, this.moreEvent);\r\n    }\r\n    moreEvent() {\r\n        this.setListConfig();\r\n        this.view.refreshList();\r\n    }\r\n    setMoreState() {\r\n        let _more = this.list.getChildByName(\"more\");\r\n        if (this.list.array.length > 4) {\r\n            _more.visible = true;\r\n        }\r\n        else {\r\n            _more.visible = false;\r\n        }\r\n    }\r\n    setListConfig() {\r\n        let n = (this.list.repeatY == 1) ? Math.ceil(this.list.array.length / 4) : 1;\r\n        this.list.repeatY = n;\r\n        this.img_bg.height = this.listHeight * n;\r\n        this.list.height = this.listHeight * n;\r\n        if (n > 1) {\r\n            this.more.text = \"收起\";\r\n        }\r\n        else {\r\n            this.more.text = \"更多\";\r\n        }\r\n    }\r\n    setPos(x, y) {\r\n        let _x = x || this.list.x;\r\n        let _y = y || this.list.y;\r\n        this.list.pos(_x, _y);\r\n    }\r\n}\r\n//# sourceMappingURL=indexDecorateItem.js.map",
  "references": [],
  "map": "{\"version\":3,\"file\":\"indexDecorateItem.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/Decorate/indexDecorateItem.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
