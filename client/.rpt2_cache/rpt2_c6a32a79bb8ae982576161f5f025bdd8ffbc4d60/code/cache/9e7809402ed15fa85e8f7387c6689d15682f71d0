{
  "code": "import { ImagePool, AvatarPool } from \"./ResourcePool\";\r\nvar AvatarDirection;\r\n(function (AvatarDirection) {\r\n    AvatarDirection[AvatarDirection[\"right\"] = 1] = \"right\";\r\n    AvatarDirection[AvatarDirection[\"left\"] = -1] = \"left\";\r\n})(AvatarDirection || (AvatarDirection = {}));\r\nexport class AnimationName {\r\n}\r\nAnimationName.idle = \"idle\";\r\nAnimationName.hit = \"hit\";\r\nexport class Avatars {\r\n    constructor(viewRoot) {\r\n        this._posx = 0;\r\n        this._posy = 0;\r\n        this._curAniName = \"\";\r\n        this._shadow = null;\r\n        this._factory = null;\r\n        this._armature = null;\r\n        this._lightVal = 0;\r\n        this._lighterFactory = null;\r\n        this._lighterArmature = null;\r\n        this._loadTrue = false;\r\n        this._scale = 1;\r\n        this._speed = 100;\r\n        this._direction = AvatarDirection.right;\r\n        this._loaded = false;\r\n        this._shadow = ImagePool.Inst.GetImage();\r\n        this._shadow.anchorX = 0.5;\r\n        this._shadow.anchorY = 0.5;\r\n        this.viewRoot = viewRoot;\r\n    }\r\n    get Armature() {\r\n        return this._armature;\r\n    }\r\n    AddPendant(Obj) {\r\n        if (!this._armature)\r\n            return;\r\n        this._armature.addChildAt(Obj, 0);\r\n    }\r\n    get width() {\r\n        return this._width;\r\n    }\r\n    get height() {\r\n        return this._height;\r\n    }\r\n    set scale(value) {\r\n        if (this._armature == null || this._armature.destroyed)\r\n            return;\r\n        this._scale = value;\r\n        this._armature.scale(this._scale * this._direction, this._scale);\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.scale(this._scale * this._direction, this._scale);\r\n        }\r\n    }\r\n    get scale() {\r\n        return this._scale;\r\n    }\r\n    set rotation(value) {\r\n        if (this._armature == null || this._armature.destroyed)\r\n            return;\r\n        this._armature.rotation = value;\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.rotation = value;\r\n        }\r\n    }\r\n    get rotation() {\r\n        if (this._armature == null || this._armature.destroyed || this._armature.rotation == null)\r\n            return;\r\n        return this._armature.rotation;\r\n    }\r\n    set PosX(value) {\r\n        this._posx = value;\r\n        if (this._armature) {\r\n            this._armature.x = this._posx;\r\n            if (this._lighterArmature) {\r\n                this._lighterArmature.x = this._posx;\r\n            }\r\n        }\r\n    }\r\n    get PosX() {\r\n        return this._posx;\r\n    }\r\n    set PosY(value) {\r\n        this._posy = value;\r\n        if (this._armature) {\r\n            this._armature.y = this._posy;\r\n            if (this._lighterArmature) {\r\n                this._lighterArmature.y = this._posy;\r\n            }\r\n        }\r\n    }\r\n    get PosY() {\r\n        return this._posy;\r\n    }\r\n    set visible(value) {\r\n        if (this._armature.visible != null)\r\n            this._armature.visible = value;\r\n        if (this._lighterArmature && !this._lighterArmature.destroyed) {\r\n            this._lighterArmature.visible = value;\r\n        }\r\n    }\r\n    get visible() {\r\n        return this._armature.visible;\r\n    }\r\n    PlaySpeed(num) {\r\n        if (!this._armature || this._armature.playbackRate == null)\r\n            return;\r\n        this._armature.playbackRate(num);\r\n    }\r\n    set speed(value) {\r\n        this._speed = value;\r\n    }\r\n    get speed() {\r\n        return this._speed;\r\n    }\r\n    set direction(value) {\r\n        if (!this._armature || this._armature.destroyed)\r\n            return;\r\n        this._direction = value;\r\n        this._armature.scale(this._scale * this._direction, this._scale);\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.scale(this._scale * this._direction, this._scale);\r\n        }\r\n    }\r\n    get direction() {\r\n        return this._direction;\r\n    }\r\n    get loaded() {\r\n        return this._loaded;\r\n    }\r\n    Load(path, direction = 1, scale = 1, x = 0, y = 0, callBack, lightVal = 0) {\r\n        if (this._loaded) {\r\n            this.Destroy();\r\n        }\r\n        this._loadTrue = false;\r\n        this._path = path;\r\n        this._posx = x;\r\n        this._posy = y;\r\n        this._scale = scale;\r\n        this._direction = direction;\r\n        this._lightVal = lightVal;\r\n        AvatarPool.Inst.GetFactory(path, Laya.Handler.create(this, (factory) => {\r\n            this._factory = factory;\r\n            this.LoadComplete1(callBack);\r\n        }));\r\n    }\r\n    LoadComplete1(callBack) {\r\n        this._armature = this._factory.buildArmature(0);\r\n        this._armature.scale(this._scale * this._direction, this._scale);\r\n        this._armature.x = this._posx;\r\n        this._armature.y = this._posy;\r\n        if (this.viewRoot != null) {\r\n            this.viewRoot.addChild(this._armature);\r\n        }\r\n        else {\r\n            Laya.stage.addChild(this._armature);\r\n        }\r\n        if (this._lightVal > 0) {\r\n            this.LoadLighterAvatar(callBack);\r\n        }\r\n        else {\r\n            this._loaded = true;\r\n            if (callBack) {\r\n                callBack.run();\r\n            }\r\n        }\r\n        this._loadTrue = true;\r\n    }\r\n    LoadLighterAvatar(callBack) {\r\n        if (this._lighterFactory == null) {\r\n            AvatarPool.Inst.GetFactory(this._path, Laya.Handler.create(this, (factory) => {\r\n                this._lighterFactory = factory;\r\n                this.LoadComplete2(callBack);\r\n            }));\r\n        }\r\n        else {\r\n            this.LoadComplete2(callBack);\r\n        }\r\n    }\r\n    LoadComplete2(callBack) {\r\n        this._lighterArmature = this._factory.buildArmature(0);\r\n        this._lighterArmature.scale(this._scale * this._direction, this._scale);\r\n        this._lighterArmature.x = this._posx;\r\n        this._lighterArmature.y = this._posy;\r\n        this._lighterArmature.blendMode = \"lighter\";\r\n        if (this.viewRoot) {\r\n            this.viewRoot.addChild(this._lighterArmature);\r\n        }\r\n        Laya.timer.frameLoop(1, this, () => {\r\n            let value = Math.abs(Math.sin(Laya.timer.currTimer / 1000)) * 0.5;\r\n            this._lighterArmature.alpha = value * this._lightVal;\r\n        });\r\n        this._loaded = true;\r\n        if (callBack) {\r\n            callBack.run();\r\n        }\r\n    }\r\n    Shadow(scale, bMonster = false) {\r\n        if (!this.viewRoot)\r\n            return;\r\n        function loop(self) {\r\n            if (!self._armature || self._armature.destroyed)\r\n                return;\r\n            let ret = self._armature.getBounds();\r\n            if (ret.width > 0 || ret.height > 0) {\r\n                self._width = ret.width;\r\n                self._height = ret.height;\r\n                self._shadow.skin = \"ui_common/img-yingzi.png\";\r\n                self._shadow.scale(scale, scale);\r\n                if (bMonster) {\r\n                    self._shadow.pos(self._posx, self._posy);\r\n                }\r\n                else {\r\n                    self._shadow.pos(ret.x + ret.width * 0.5, ret.y + ret.height - 5);\r\n                }\r\n                self.viewRoot.addChildAt(self._shadow, 0);\r\n                Laya.timer.clear(self, loop);\r\n                return;\r\n            }\r\n        }\r\n        Laya.timer.frameLoop(1, this, loop, [this]);\r\n    }\r\n    SetOrder(order) {\r\n        if (this._armature) {\r\n            this._armature.zOrder = order;\r\n            this._armature.updateZOrder();\r\n        }\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.zOrder = order;\r\n            this._lighterArmature.updateZOrder();\r\n        }\r\n    }\r\n    GetBoneTransform(boneName) {\r\n        let ret = new Laya.Point();\r\n        let arr = this._factory.mBoneArr;\r\n        if (arr) {\r\n            let bone = this._factory.boneSlotDic[boneName];\r\n            if (bone) {\r\n                let tran = bone.currDisplayData.transform;\r\n                ret.x = tran.x;\r\n                ret.y = tran.y;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    PlayOnce(nameOrIndex = null) {\r\n        if (!nameOrIndex) {\r\n            let start = this._path.lastIndexOf(\"/\") + 1;\r\n            let end = this._path.indexOf(\".sk\");\r\n            nameOrIndex = this._path.substring(start, end);\r\n        }\r\n        if (this.Armature) {\r\n            this.Armature.visible = true;\r\n            this.Play(nameOrIndex, false, true, () => {\r\n                this.Armature.visible = false;\r\n            });\r\n        }\r\n    }\r\n    Play(nameOrIndex = null, loop = true, force, callBack, ones) {\r\n        if (!this._armature || this._armature.destroyed)\r\n            return;\r\n        if (nameOrIndex == null) {\r\n            let start = this._path.lastIndexOf(\"/\") + 1;\r\n            let end = this._path.indexOf(\".sk\");\r\n            nameOrIndex = this._path.substring(start, end);\r\n        }\r\n        if (ones) {\r\n            this._armature.play(nameOrIndex, loop, force, 1, 1);\r\n            if (this._lighterArmature) {\r\n                this._lighterArmature.play(nameOrIndex, loop, force, 1, 1);\r\n            }\r\n            return;\r\n        }\r\n        if (nameOrIndex == this._curAniName && nameOrIndex == AnimationName.hit) {\r\n            let index = this._armature[\"_currAniIndex\"];\r\n            let duration = this._factory.getAniDuration(index);\r\n            this._armature.play(nameOrIndex, loop, force, duration / 2);\r\n            if (this._lighterArmature) {\r\n                this._lighterArmature.play(nameOrIndex, loop, force, duration / 2);\r\n            }\r\n        }\r\n        else {\r\n            this._armature.play(nameOrIndex, loop, force);\r\n            if (this._lighterArmature) {\r\n                this._lighterArmature.play(nameOrIndex, loop, force);\r\n            }\r\n        }\r\n        this._curAniName = nameOrIndex;\r\n        this._armature.offAll();\r\n        this._armature.on(Laya.Event.STOPPED, this, () => {\r\n            if (callBack != null) {\r\n                callBack();\r\n            }\r\n            if (this._armature) {\r\n                this._armature.offAll();\r\n            }\r\n        });\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.offAll();\r\n            this._lighterArmature.on(Laya.Event.STOPPED, this, () => {\r\n                if (this._lighterArmature) {\r\n                    this._lighterArmature.offAll();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    GetAniDuration() {\r\n        if (!this._armature || !this._factory)\r\n            return;\r\n        let index = this._armature[\"_currAniIndex\"];\r\n        let duration = this._factory.getAniDuration(index);\r\n        return duration;\r\n    }\r\n    Stop() {\r\n        this._armature.stop();\r\n        this._armature.offAll();\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.stop();\r\n            this._lighterArmature.offAll();\r\n        }\r\n    }\r\n    Rotate(value) {\r\n        if (!this._armature || this._armature.destroyed)\r\n            return;\r\n        this._armature.rotation = value;\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.rotation = value;\r\n        }\r\n    }\r\n    Destroy() {\r\n        Laya.timer.clearAll(this);\r\n        if (this._shadow) {\r\n            ImagePool.Inst.Destroy(this._shadow);\r\n        }\r\n        if (this._armature) {\r\n            this._armature.offAll();\r\n            this._armature.destroy(true);\r\n            this._armature = null;\r\n        }\r\n        if (this._lighterArmature) {\r\n            this._lighterArmature.offAll();\r\n            this._lighterArmature.destroy(true);\r\n            this._lighterArmature = null;\r\n        }\r\n        this._loaded = false;\r\n    }\r\n}\r\nexport class AnimationNames {\r\n}\r\nAnimationNames.idle = \"idle\";\r\nAnimationNames.hit = \"hit\";\r\nAnimationNames.attack = \"attack\";\r\nAnimationNames.die = \"dead\";\r\n//# sourceMappingURL=Avatars.js.map",
  "references": [
    "E:/project/duorou/client/src/effect/ResourcePool.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Avatars.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/effect/Avatars.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
