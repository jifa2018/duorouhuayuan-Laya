{
  "code": "import { ResourceManager } from \"../../manager/ResourceManager\";\r\nimport { Potted } from \"../item/Potted\";\r\nexport class DrawModel {\r\n    constructor() {\r\n        this._isDestroy = false;\r\n        this.position = new Laya.Vector3(0, 0, 0);\r\n        this.scale = 1;\r\n        this.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n        this.bFlower = false;\r\n        this.bEmptyBox = false;\r\n        this.bEmptyPot = false;\r\n    }\r\n    Start(ui) {\r\n        this._ui = ui;\r\n        this._scene = new Laya.Scene3D();\r\n        let light = new Laya.DirectionLight();\r\n        light.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = light.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        light.transform.worldMatrix = mat;\r\n        this._ui.addChild(this._scene);\r\n        this._scene.addChild(light);\r\n        this._ui.setChildIndex(this._scene, 0);\r\n        if (this.bFlower) {\r\n            this.LoadFlower(() => {\r\n                this.LoadCamera();\r\n            });\r\n        }\r\n        else if (this.bEmptyBox) {\r\n            this.LoadEmptyBox(() => {\r\n                this.LoadCamera();\r\n            });\r\n        }\r\n        else if (this.bEmptyPot) {\r\n            this.LoadEmptyPot(() => {\r\n                this.LoadCamera();\r\n            });\r\n        }\r\n    }\r\n    LoadFlower(callBack) {\r\n        if (this.flowerData && this.flowerPotStruct) {\r\n            let strName = \"point_\" + this.flowerData.Name;\r\n            Potted.createByData(this.flowerPotStruct, Laya.Handler.create(this, function (name, potted, ang) {\r\n                potted.transform.rotationEuler = new Laya.Vector3(0, potted.transform.rotationEuler.y + ang, 0);\r\n                potted.transform.position = this.position;\r\n                this._scene.addChild(potted);\r\n                callBack();\r\n            }, [strName]));\r\n        }\r\n    }\r\n    LoadEmptyBox(callBack) {\r\n        ResourceManager.getInstance().getResource(\"res/model/Succulent_pengzi_02.lh\", Laya.Handler.create(this, function (ret11) {\r\n            ret11.transform.position = this.position;\r\n            ret11.transform.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n            this._scene.addChild(ret11);\r\n            callBack();\r\n        }));\r\n    }\r\n    LoadEmptyPot(callBack) {\r\n        ResourceManager.getInstance().getResource(\"res/plant/Succulent_pen_01_A.lh\", Laya.Handler.create(this, function (ret11) {\r\n            ret11.transform.position = this.position;\r\n            ret11.transform.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n            this._scene.addChild(ret11);\r\n            callBack();\r\n        }));\r\n    }\r\n    LoadCamera() {\r\n        this._camera = new Laya.Camera();\r\n        this._camera.clearFlag = Laya.BaseCamera.CLEARFLAG_DEPTHONLY;\r\n        this._camera.transform.translate(new Laya.Vector3(0, 0, 0), false);\r\n        Laya.timer.once(100, this, () => {\r\n            if (this._isDestroy || this._ui._destroyed)\r\n                return;\r\n            let pos = this._ui.localToGlobal(new Laya.Point(0, 0));\r\n            let width = this._ui.width;\r\n            let height = this._ui.height;\r\n            let offsetX = pos.x;\r\n            let offsetY = pos.y;\r\n            this._camera.viewport = new Laya.Viewport(offsetX, offsetY, width, height);\r\n            this._scene.addChild(this._camera);\r\n        });\r\n    }\r\n    Destroy() {\r\n        Laya.timer.clearAll(this);\r\n        if (this._scene)\r\n            this._scene.destroy(true);\r\n        this._isDestroy = true;\r\n    }\r\n}\r\n//# sourceMappingURL=DrawModel.js.map",
  "references": [
    "E:/project/duorou/client/src/game/item/PottedStruct.ts",
    "E:/project/duorou/client/src/manager/ResourceManager.ts",
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/game/item/Point.ts",
    "E:/project/duorou/client/src/game/item/Potted.ts",
    "E:/project/duorou/client/src/game/GameDefine.ts",
    "E:/project/duorou/client/src/manager/PotManager.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts"
  ],
  "map": "{\"version\":3,\"file\":\"DrawModel.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/game/ui/DrawModel.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
