{
  "code": "import { StaffBase } from \"./StaffBase\";\r\nimport { NpcManager } from \"../../manager/NpcManager\";\r\nimport GameScene from \"../scene/GameScene\";\r\nimport { ResourceManager } from \"../../manager/ResourceManager\";\r\nimport { AnimatorController } from \"../script/AnimatorController\";\r\nvar Handler = Laya.Handler;\r\nexport class Propagandist extends StaffBase {\r\n    constructor() {\r\n        super();\r\n        this._creating = true;\r\n        this.index = 0;\r\n    }\r\n    onLoad(tableId) {\r\n        super.onLoad(tableId);\r\n        ResourceManager.getInstance().getResource(this._tableData.strmodle, Handler.create(this, (node) => {\r\n            this.sprite3dNode = node;\r\n            this._animator = this.addComponent(AnimatorController);\r\n            this.addChild(this.sprite3dNode);\r\n            this._loadDone = true;\r\n        }));\r\n    }\r\n    onStop() { }\r\n    onDestroy() { }\r\n    LoadRangeNpc() {\r\n        let minNum = 1;\r\n        let maxNum = 5;\r\n        let value_a = Math.random() * (maxNum - minNum + 1) + minNum + \"\";\r\n        let value_b = parseInt(value_a);\r\n        console.log(\"创建一个NPC id = \" + value_b);\r\n        var npc = NpcManager.getInstance().createNpc(value_b);\r\n        npc.transform.position = GameScene.instance.scene3d.getChildByName(\"path\").getChildByName(\"path_1\").getChildAt(0).transform.position;\r\n        GameScene.instance.scene3d.addChild(npc);\r\n    }\r\n    LoadRangetenNpc() {\r\n        if (!this._creating)\r\n            return;\r\n        NpcManager.getInstance().destroynpcCreater();\r\n        Laya.timer.loop(500, this, this.AddVisitorNpc);\r\n        this._creating = false;\r\n        this.index = 0;\r\n    }\r\n    AddVisitorNpc() {\r\n        this.index++;\r\n        if (this.index > this._tableData.propaganda) {\r\n            Laya.timer.clear(this, this.AddVisitorNpc);\r\n            this.index = 0;\r\n            this._creating = true;\r\n            NpcManager.getInstance().initnpcCreater();\r\n            return;\r\n        }\r\n        this.LoadRangeNpc();\r\n    }\r\n}\r\n//# sourceMappingURL=Propagandist.js.map",
  "references": [
    "E:/project/duorou/client/src/game/Staff/StaffBase.ts",
    "E:/project/duorou/client/src/manager/NpcManager.ts",
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/manager/ResourceManager.ts",
    "E:/project/duorou/client/src/game/script/AnimatorController.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Propagandist.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/game/Staff/Propagandist.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
