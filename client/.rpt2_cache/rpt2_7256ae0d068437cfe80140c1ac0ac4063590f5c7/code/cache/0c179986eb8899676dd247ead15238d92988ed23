{
  "code": "import { ui } from \"../../../ui/layaMaxUI\";\r\nvar contentTipUI = ui.view.common.ContentTipUI;\r\nimport { GameUIManager } from \"../../../manager/GameUIManager\";\r\nimport { Collection_station_Cfg, Map_Cfg } from \"../../../manager/ConfigManager\";\r\nimport { CollectMapDataManager } from \"../../../manager/CollectMapDataManager\";\r\nimport { TipViewScene } from \"../Common/TipViewScene\";\r\nexport class ContentTip extends contentTipUI {\r\n    constructor(param) {\r\n        super();\r\n        this._comp = Collection_station_Cfg;\r\n        this.sign = null;\r\n        this.sign = param[0];\r\n    }\r\n    onEnable() {\r\n        this.width = Laya.stage.width;\r\n        this.height = Laya.stage.height;\r\n        this.bindEvent();\r\n        this.onShowContent();\r\n        Laya.timer.once(2000, this, this.onHideContent);\r\n    }\r\n    onDestroy() {\r\n        this.off(Laya.Event.CLICK, this, this.onClick);\r\n        Laya.timer.clearAll(this);\r\n        GameUIManager.getInstance().destroyUI(TipViewScene);\r\n    }\r\n    bindEvent() {\r\n        this.on(Laya.Event.CLICK, this, this.onClick);\r\n    }\r\n    onClick() {\r\n        this.onHideContent();\r\n    }\r\n    onShowContent() {\r\n        let content = this.getCompBySign(this.sign);\r\n        this._title = this._title || \"\";\r\n        GameUIManager.getInstance().destroyUI(TipViewScene);\r\n        GameUIManager.getInstance().createTopUI(TipViewScene, [this._title, content, false]);\r\n    }\r\n    onHideContent() {\r\n        GameUIManager.getInstance().destroyUI(ContentTip);\r\n    }\r\n    getCompBySign(sign) {\r\n        if (CollectMapDataManager.getInstance().getLock(sign))\r\n            return \"已解锁,内容刷新还没写好\";\r\n        for (const key in this._comp) {\r\n            if (Object.prototype.hasOwnProperty.call(this._comp, key)) {\r\n                const element = this._comp[key];\r\n                let arrUnlockmap = element.strunlockmap.split(\",\");\r\n                this.getMapName(arrUnlockmap[0], arrUnlockmap[1]);\r\n                let newTxt = element.strunlockmap.replace(\",\", \"_\") + \"_collectpoint\";\r\n                if (newTxt == sign) {\r\n                    return element.strunlocktip;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getMapName(id, lv) {\r\n        for (const key in Map_Cfg) {\r\n            if (Object.prototype.hasOwnProperty.call(Map_Cfg, key)) {\r\n                const element = Map_Cfg[key];\r\n                if (Number(id) == element.mapid && Number(lv) == element.mapLevel) {\r\n                    this._title = element.strDoc;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ContentTip.js.map",
  "references": [
    "E:/project/duorou/client/src/ui/layaMaxUI.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/manager/CollectMapDataManager.ts",
    "E:/project/duorou/client/src/game/ui/Common/TipViewScene.ts"
  ],
  "map": "{\"version\":3,\"file\":\"ContentTip.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/ContentTip/ContentTip.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
