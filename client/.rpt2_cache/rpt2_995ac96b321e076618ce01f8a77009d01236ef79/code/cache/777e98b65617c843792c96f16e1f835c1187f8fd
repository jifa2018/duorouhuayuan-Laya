{
  "code": "import { ui } from \"../../../ui/layaMaxUI\";\r\nimport { GameUIManager } from \"../../../manager/GameUIManager\";\r\nimport { Succulentpoint_Cfg } from \"../../../manager/ConfigManager\";\r\nimport { PotManager } from \"../../../manager/PotManager\";\r\nimport { DrawModel } from \"../DrawModel\";\r\nexport class FlowerRipeTipsView extends ui.view.Flowerpot.FlowerRipeTipsViewUI {\r\n    constructor() {\r\n        super();\r\n        this._pointName = \"\";\r\n        this._pointIndex = 0;\r\n        let data = PotManager.getInstance().PotRipeList.shift();\r\n        if (!data) {\r\n            this.onClose();\r\n        }\r\n        this._pointName = data[0];\r\n        this._pointIndex = data[1];\r\n    }\r\n    onEnable() {\r\n        this.width = Laya.stage.width;\r\n        this.height = Laya.stage.height;\r\n        this.InitEvent();\r\n        this.InitView();\r\n    }\r\n    onDisable() {\r\n    }\r\n    onClose() {\r\n        GameUIManager.getInstance().destroyUI(FlowerRipeTipsView);\r\n    }\r\n    InitEvent() {\r\n        this.tBtn.on(Laya.Event.CLICK, this, this.OnSure);\r\n    }\r\n    InitView() {\r\n        let tPoint = PotManager.getInstance().PotMap[this._pointName];\r\n        let tPot = tPoint.PotList[this._pointIndex];\r\n        if (tPot) {\r\n            this.icon0.skin = tPot.GetQualityImg();\r\n            this.condition1.text = String(tPot.quality);\r\n            this.OnUpdateFlowerModel(this.img_pot);\r\n        }\r\n    }\r\n    OnUpdateFlowerModel(ui) {\r\n        if (this.flowerModel) {\r\n            this.flowerModel.Destroy();\r\n            this.flowerModel = null;\r\n        }\r\n        this.flowerModel = new DrawModel();\r\n        this.flowerModel.flowerData = PotManager.getInstance().PotMap[this._pointName];\r\n        this.flowerModel.flowerPotStruct = PotManager.getInstance().PotMap[this._pointName].PointDataList[this._pointIndex];\r\n        this.flowerModel.bFlower = true;\r\n        let pos = PotManager.getInstance().scaleInfo[Succulentpoint_Cfg[this._pointName].type];\r\n        this.flowerModel.position = new Laya.Vector3(0, -pos[0], -pos[1]);\r\n        this.flowerModel.Start(ui);\r\n    }\r\n    OnSure() {\r\n        PotManager.getInstance().PotRipeList.shift();\r\n        this.onClose();\r\n        if (PotManager.getInstance().PotRipeList.length > 0)\r\n            GameUIManager.getInstance().showUI(FlowerRipeTipsView);\r\n    }\r\n}\r\n//# sourceMappingURL=FlowerRipeTipsView.js.map",
  "references": [
    "E:/project/duorou/client/src/ui/layaMaxUI.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/player/Player.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/common/CommonDefine.ts",
    "E:/project/duorou/client/src/manager/SceneManager.ts",
    "E:/project/duorou/client/src/game/scene/DIYScene.ts",
    "E:/project/duorou/client/src/game/ui/DiyView/DiyView.ts",
    "E:/project/duorou/client/src/game/item/Point.ts",
    "E:/project/duorou/client/src/manager/PotManager.ts",
    "E:/project/duorou/client/src/game/item/Potted.ts",
    "E:/project/duorou/client/src/game/ui/DrawModel.ts"
  ],
  "map": "{\"version\":3,\"file\":\"FlowerRipeTipsView.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/game/ui/FlowerState/FlowerRipeTipsView.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
