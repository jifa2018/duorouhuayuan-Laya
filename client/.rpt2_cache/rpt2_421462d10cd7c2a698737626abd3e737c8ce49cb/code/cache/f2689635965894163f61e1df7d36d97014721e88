{
  "code": "var Vector3 = Laya.Vector3;\r\nvar PhysicsCollider = Laya.PhysicsCollider;\r\nvar Handler = Laya.Handler;\r\nimport { StaffBase } from \"./StaffBase\";\r\nimport { MoveController } from \"../script/MoveController\";\r\nimport { CollectAI } from \"../ai/CollectAI\";\r\nimport { CommonDefine } from \"../../common/CommonDefine\";\r\nimport GameScene from \"../scene/GameScene\";\r\nimport { ResourceManager } from \"../../manager/ResourceManager\";\r\nimport { AnimatorController } from \"../script/AnimatorController\";\r\nimport { CollectCreater } from \"../component/CollectCreater\";\r\nimport { Time } from \"../../common/Time\";\r\nimport { GameUIManager } from \"../../manager/GameUIManager\";\r\nimport { StaffCommonView } from \"../ui/Staff/StaffCommonView\";\r\nimport { PathManager } from \"../../manager/PathManager\";\r\nimport { BubbleType } from \"../ui/Bubble/Bubble\";\r\nimport { BubbleCreater } from \"../ui/Bubble/BubbleCreater\";\r\nimport { GameData } from \"../data/GameData\";\r\nimport { Staff_Cfg } from \"../../manager/ConfigManager\";\r\nimport { GatherView } from \"../ui/Gather/GatherView\";\r\nimport { SaveManager } from \"../../manager/SaveManager\";\r\nexport var GatherStateType;\r\n(function (GatherStateType) {\r\n    GatherStateType[GatherStateType[\"Idle\"] = 0] = \"Idle\";\r\n    GatherStateType[GatherStateType[\"Collecting\"] = 1] = \"Collecting\";\r\n    GatherStateType[GatherStateType[\"Rest\"] = 2] = \"Rest\";\r\n    GatherStateType[GatherStateType[\"Receiving\"] = 3] = \"Receiving\";\r\n})(GatherStateType || (GatherStateType = {}));\r\nexport class Gatherman extends StaffBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.OncecollectTime = 3600;\r\n        this._collectTimeStamp = 0;\r\n        this._restTimeStamp = 0;\r\n        this._collectTime = 0;\r\n        this._restTime = 0;\r\n        this._state = GatherStateType.Idle;\r\n        this._WorkCD = 0;\r\n        this._seatId = 0;\r\n    }\r\n    onLoad(tableId) {\r\n        super.onLoad(tableId);\r\n        this._restTime = this._collectTime = this._tableData.collectime;\r\n        ResourceManager.getInstance().getResource(this._tableData.strmodle, Handler.create(this, (node) => {\r\n            this.sprite3dNode = node;\r\n            this._animator = this.addComponent(AnimatorController);\r\n            this._moveController = this.addComponent(MoveController);\r\n            var c = this.sprite3dNode.getComponent(PhysicsCollider);\r\n            c.enabled = true;\r\n            this.addChild(this.sprite3dNode);\r\n            this._loadDone = true;\r\n            this.InitData(tableId);\r\n        }));\r\n        this._aiController = new CollectAI(this);\r\n        this._Creater = new CollectCreater();\r\n    }\r\n    InitData(tableId) {\r\n        let data = GameData.GetRole(tableId);\r\n        this._collectTime = this._restTime = data.workOrRestTimeCD;\r\n        this._WorkCD = data.workOrRestTimeCD;\r\n        switch (data.workState) {\r\n            case GatherStateType.Idle:\r\n                this.StopAI();\r\n                break;\r\n            case GatherStateType.Collecting:\r\n                this._collectTimeStamp = data.workTimeStamp;\r\n                let cdtime = Time.serverSeconds - data.workTimeStamp;\r\n                if (data.workOrRestTimeCD - cdtime > 0)\r\n                    this._collectTime = data.workOrRestTimeCD - cdtime;\r\n                else\r\n                    this.Receiving(false);\r\n                this.StartAI(false);\r\n                break;\r\n            case GatherStateType.Rest:\r\n                this._restTimeStamp = data.restTimeStamp;\r\n                let cdtime1 = Time.serverSeconds - data.restTimeStamp;\r\n                if (data.workOrRestTimeCD - cdtime1 > 0)\r\n                    this._restTime = data.workOrRestTimeCD - cdtime1;\r\n                else\r\n                    this.StopAI();\r\n                this.ToRest();\r\n                break;\r\n            case GatherStateType.Receiving:\r\n                this.Receiving(false);\r\n                break;\r\n        }\r\n        if (data.updateState == 1) {\r\n            let overTime = Time.serverSeconds - data.updateTimeStamp;\r\n            let cd = this._tableData.cd * 60;\r\n            if (cd - overTime > 0) {\r\n                this.ChangUpGrade();\r\n                this.SetupgradeTime(cd - overTime);\r\n            }\r\n            else {\r\n                this.upgrade(this.id + 1);\r\n                data.updateState = 0;\r\n                data.updateTimeStamp = 0;\r\n                GameData.RoleInfo = data;\r\n                SaveManager.getInstance().SetStaffCache(data);\r\n            }\r\n        }\r\n    }\r\n    onStop() { }\r\n    onDestroy() {\r\n    }\r\n    onClick() {\r\n        super.onClick();\r\n        if (this._state == GatherStateType.Collecting) {\r\n            GameUIManager.getInstance().showUI(StaffCommonView, Laya.Handler.create(this, (view) => {\r\n                view.SetDataID(this._id);\r\n            }));\r\n        }\r\n    }\r\n    StartAI(pos = true) {\r\n        this.ChangState(GatherStateType.Collecting);\r\n        if (this._collectTimeStamp == 0) {\r\n            this._collectTimeStamp = Time.serverSeconds;\r\n        }\r\n        if (!pos) {\r\n            this.transform.position = GameScene.instance.scene3d.getChildByName(\"stoppoint\").getChildByName(\"stoppoint1\").transform.position;\r\n        }\r\n        this._aiController.beginCollect();\r\n        this._Creater.initCreater(1, this._id);\r\n        Laya.timer.loop(1000, this, this.SubCollectTime);\r\n        this.SaveInfo();\r\n    }\r\n    Receiving(pos = true) {\r\n        this.ChangState(GatherStateType.Receiving);\r\n        this._aiController.stopCollect();\r\n        this._Creater.clear();\r\n        let path = GameScene.instance.scene3d.getChildByName(\"stoppoint\").getChildByName(\"stoppoint1\").transform.position;\r\n        if (!pos) {\r\n            this.transform.position = path;\r\n            this.creatBubble();\r\n        }\r\n        else {\r\n            if (!Vector3.equals(this.transform.position, path)) {\r\n                this.moveTo([path], Handler.create(this, () => {\r\n                    this.creatBubble();\r\n                }, null, false));\r\n            }\r\n            else\r\n                this.creatBubble();\r\n        }\r\n        this.SaveInfo();\r\n    }\r\n    StopAI() {\r\n        this.ChangState(GatherStateType.Idle);\r\n        PathManager.getInstance().getCollectIdleClear(this.transform.position);\r\n        if (this._aiController != null && this._aiController != undefined) {\r\n            this._aiController.stopCollect();\r\n        }\r\n        if (this._Creater != null && this._Creater != undefined) {\r\n            this._Creater.clear();\r\n        }\r\n        GameScene.instance.carEditor.refreshStaff(this);\r\n        this.playAnimation(CommonDefine.ANIMATION_chengkezuo);\r\n        this.SaveInfo();\r\n    }\r\n    ToRest() {\r\n        this.ChangState(GatherStateType.Rest);\r\n        if (this._aiController) {\r\n            this._aiController.stopCollect();\r\n        }\r\n        if (this._Creater) {\r\n            this._Creater.clear();\r\n        }\r\n        if (this._bubble) {\r\n            BubbleCreater.instance.removeBubble(this._bubble);\r\n        }\r\n        this.transform.position = PathManager.getInstance().getCollectIdleByName(1);\r\n        this.playAnimation(CommonDefine.ANIMATION_IDLE);\r\n        Laya.timer.loop(1000, this, this.SubRestTime);\r\n        if (this._restTimeStamp == 0) {\r\n            this._restTimeStamp = Time.serverSeconds;\r\n        }\r\n        GameData.ClearItem(Staff_Cfg[this._id].staffID);\r\n        this.SaveInfo();\r\n    }\r\n    Setseat(id) {\r\n        this._seatId = id;\r\n    }\r\n    Getseat() {\r\n        return this._seatId;\r\n    }\r\n    GetCollectTime() {\r\n        return this._collectTime;\r\n    }\r\n    GetRestTime() {\r\n        return this._restTime;\r\n    }\r\n    SetCollectTime(time) {\r\n        this._collectTime = this._restTime = time;\r\n        this._WorkCD = time;\r\n        this.SaveInfo();\r\n    }\r\n    GetOnceCollectTime() {\r\n        return this.OncecollectTime;\r\n    }\r\n    getFindItemData() {\r\n        return this._Creater.getFindItemData();\r\n    }\r\n    clearFindItemData() {\r\n        this._Creater.clearFindItemData();\r\n    }\r\n    getState() {\r\n        return this._state;\r\n    }\r\n    creatBubble() {\r\n        this.playAnimation(CommonDefine.ANIMATION_chengkezuo);\r\n        this._bubble = BubbleCreater.instance.createBubble(6, GameScene.instance.camera, BubbleType.Collect, this, Laya.Handler.create(this, () => {\r\n            if (GameScene.instance.curRollIndex == 1) {\r\n                Laya.stage.event(CommonDefine.EVENT_ROLL_SCREEN, [\"left\", GameScene.instance.camera]);\r\n            }\r\n            GameUIManager.getInstance().createUI(GatherView, [1], Laya.Handler.create(this, (view) => {\r\n                view.showStaffTable && view.showStaffTable();\r\n            }));\r\n        }, null, false));\r\n    }\r\n    ChangState(state) {\r\n        this._state = state;\r\n    }\r\n    SubCollectTime() {\r\n        this._collectTime -= 1;\r\n        if (this._collectTime <= 0) {\r\n            Laya.timer.clear(this, this.SubCollectTime);\r\n            this.Receiving();\r\n        }\r\n    }\r\n    SubRestTime() {\r\n        this._restTime -= 1;\r\n        if (this._restTime <= 0) {\r\n            Laya.timer.clear(this, this.SubRestTime);\r\n            this.StopAI();\r\n        }\r\n    }\r\n    SaveInfo() {\r\n        let array = GameData.RoleInfo;\r\n        for (const key in array) {\r\n            if (array.hasOwnProperty(key)) {\r\n                const info = array[key];\r\n                if (info.id == this._id) {\r\n                    info.workState = this._state;\r\n                    switch (this._state) {\r\n                        case GatherStateType.Idle:\r\n                            info.workTimeStamp = 0;\r\n                            info.restTimeStamp = 0;\r\n                            this._restTimeStamp = 0;\r\n                            this._collectTimeStamp = 0;\r\n                            break;\r\n                        case GatherStateType.Collecting:\r\n                            info.workTimeStamp = this._collectTimeStamp;\r\n                            info.restTimeStamp = 0;\r\n                            this._restTimeStamp = 0;\r\n                            break;\r\n                        case GatherStateType.Rest:\r\n                            info.restTimeStamp = this._restTimeStamp;\r\n                            info.workTimeStamp = 0;\r\n                            this._collectTimeStamp = 0;\r\n                            break;\r\n                        case GatherStateType.Receiving:\r\n                            info.workTimeStamp = 0;\r\n                            info.restTimeStamp = 0;\r\n                            this._restTimeStamp = 0;\r\n                            this._collectTimeStamp = 0;\r\n                            break;\r\n                    }\r\n                    info.workOrRestTimeCD = this._WorkCD;\r\n                    GameData.RoleInfo = array;\r\n                    SaveManager.getInstance().SetStaffCache(array);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Gatherman.js.map",
  "references": [
    "E:/project/duorou/client/src/game/Staff/StaffBase.ts",
    "E:/project/duorou/client/src/game/script/MoveController.ts",
    "E:/project/duorou/client/src/game/ai/CollectAI.ts",
    "E:/project/duorou/client/src/common/CommonDefine.ts",
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/manager/ResourceManager.ts",
    "E:/project/duorou/client/src/game/script/AnimatorController.ts",
    "E:/project/duorou/client/src/game/component/CollectCreater.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/game/GameDefine.ts",
    "E:/project/duorou/client/src/common/Time.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/ui/Staff/StaffCommonView.ts",
    "E:/project/duorou/client/src/manager/PathManager.ts",
    "E:/project/duorou/client/src/game/ui/Bubble/Bubble.ts",
    "E:/project/duorou/client/src/game/ui/Bubble/BubbleCreater.ts",
    "E:/project/duorou/client/src/game/data/GameData.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/game/ui/Gather/GatherView.ts",
    "E:/project/duorou/client/src/manager/SaveManager.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Gatherman.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/game/Staff/Gatherman.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
