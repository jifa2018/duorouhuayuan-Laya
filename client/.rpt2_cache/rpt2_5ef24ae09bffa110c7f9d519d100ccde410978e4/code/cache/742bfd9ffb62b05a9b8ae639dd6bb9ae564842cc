{
  "code": "var Handler = Laya.Handler;\r\nexport class ResourceManager {\r\n    constructor() {\r\n    }\r\n    static get instance() {\r\n        if (this._class == null) {\r\n            this._class = new this();\r\n        }\r\n        return this._class;\r\n    }\r\n    OnStart(callBack) {\r\n    }\r\n    OnDestroy() {\r\n    }\r\n    getResource(url, complate) {\r\n        if (Array.isArray(url)) {\r\n        }\r\n        else {\r\n            var tar = Laya.Loader.getRes(url);\r\n            if (tar) {\r\n                complate && complate.runWith(tar.clone());\r\n                return;\r\n            }\r\n        }\r\n        Laya.loader.create(url, Handler.create(this, function (ret) {\r\n            complate && complate.runWith(ret);\r\n        }));\r\n    }\r\n    LoadASyn(pUrl, fComplete) {\r\n        if (Array.isArray(pUrl)) {\r\n            let mapRetRes = new Map();\r\n            let aryLoadUrl = [];\r\n            pUrl.forEach(sUrl => {\r\n                let pRes = Laya.Loader.getRes(sUrl);\r\n                if (pRes == null) {\r\n                    aryLoadUrl.push(sUrl);\r\n                }\r\n                else {\r\n                    mapRetRes[sUrl] = pRes;\r\n                }\r\n            });\r\n            function multipleLoadDone() {\r\n                aryLoadUrl.forEach(sUrl => {\r\n                    sUrl = sUrl.url;\r\n                    mapRetRes[sUrl] = Laya.Loader.getRes(sUrl);\r\n                });\r\n                if (fComplete)\r\n                    fComplete.runWith(mapRetRes);\r\n            }\r\n            ;\r\n            if (aryLoadUrl.length > 0) {\r\n                Laya.loader.create(aryLoadUrl, Laya.Handler.create(this, multipleLoadDone));\r\n            }\r\n            else {\r\n                Laya.timer.frameOnce(1, this, multipleLoadDone);\r\n            }\r\n        }\r\n        else {\r\n            let pRes = Laya.Loader.getRes(pUrl);\r\n            function singleLoadDone() {\r\n                if (fComplete)\r\n                    fComplete.runWith(Laya.Loader.getRes(pUrl));\r\n            }\r\n            if (pRes == null) {\r\n                Laya.loader.create(pUrl, Laya.Handler.create(this, singleLoadDone));\r\n            }\r\n            else {\r\n                Laya.timer.frameOnce(1, this, singleLoadDone);\r\n            }\r\n        }\r\n    }\r\n}\r\nResourceManager._class = null;\r\n",
  "references": []
}
