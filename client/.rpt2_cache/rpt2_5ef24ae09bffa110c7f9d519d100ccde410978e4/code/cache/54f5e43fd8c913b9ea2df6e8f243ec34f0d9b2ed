{
  "code": "var Handler = Laya.Handler;\r\nvar Sprite3D = Laya.Sprite3D;\r\nvar Vector3 = Laya.Vector3;\r\nvar Tween = Laya.Tween;\r\nimport GameScene from \"../scene/GameScene\";\r\nimport { ResourceManager } from \"../../manager/ResourceManager\";\r\nexport class SceneItem extends Sprite3D {\r\n    constructor() {\r\n        super();\r\n        this.modelUrl0 = \"res/drop/JinBi.lh\";\r\n        this.itemModel = null;\r\n        this.resourceNumber = 0;\r\n    }\r\n    setPosition(position) {\r\n        this.pos = position;\r\n        if (!this.itemModel) {\r\n            this.loadModel();\r\n        }\r\n        else {\r\n            this.doMove();\r\n        }\r\n    }\r\n    loadModel() {\r\n        var n = Math.random() * 2;\r\n        n = Math.floor(n);\r\n        var str = \"modelUrl\" + n.toString();\r\n        ResourceManager.instance.getResource(str, Handler.create(this, this.onLoaded));\r\n    }\r\n    onClick() {\r\n        console.log(\"点击了金币\");\r\n    }\r\n    recover() {\r\n    }\r\n    onLoaded(sp3d) {\r\n        this.itemModel = sp3d;\r\n        sp3d.transform.localPosition = new Vector3(0, 0.3, 0);\r\n        this.addChild(sp3d);\r\n        this.doMove();\r\n    }\r\n    doMove() {\r\n        this.transform.position = this.pos;\r\n        var _x = this.transform.position.x;\r\n        var _y = this.transform.position.y;\r\n        GameScene.instance.scene3d.addChild(this);\r\n        var offset = Math.random() * 0.8;\r\n        offset = Number(offset.toFixed(1));\r\n        Tween.to(this.transform.position, { x: _x - offset, y: _y + 1, update: new Handler(this, function () {\r\n                this.transform.position = this.transform.position;\r\n            }) }, 200, null, Handler.create(this, function () {\r\n            Tween.to(this.transform.position, { x: _x - offset * 2, y: _y, update: new Handler(this, function () {\r\n                    this.transform.position = this.transform.position;\r\n                }) }, 200, null, Handler.create(this, function () {\r\n            }));\r\n        }));\r\n    }\r\n}\r\n",
  "references": [
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/manager/ResourceManager.ts"
  ]
}
