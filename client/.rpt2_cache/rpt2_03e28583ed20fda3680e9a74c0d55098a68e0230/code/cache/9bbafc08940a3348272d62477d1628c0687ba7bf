{
  "code": "var Handler = Laya.Handler;\r\nimport { Singleton } from \"../common/Singleton\";\r\nexport class ResourceManager extends Singleton {\r\n    OnStart(callBack) {\r\n    }\r\n    OnDestroy() {\r\n    }\r\n    getResource(url, complate) {\r\n        if (Array.isArray(url)) {\r\n        }\r\n        else {\r\n            var tar = Laya.Loader.getRes(url);\r\n            if (tar) {\r\n                complate && complate.runWith(tar.clone());\r\n                return;\r\n            }\r\n        }\r\n        Laya.loader.create(url, Handler.create(this, function (ret) {\r\n            complate && complate.runWith(ret.clone());\r\n        }));\r\n    }\r\n    LoadASyn(pUrl, fComplete) {\r\n        if (Array.isArray(pUrl)) {\r\n            let mapRetRes = new Map();\r\n            let aryLoadUrl = [];\r\n            pUrl.forEach(sUrl => {\r\n                let pRes = Laya.Loader.getRes(sUrl);\r\n                if (pRes == null) {\r\n                    aryLoadUrl.push(sUrl);\r\n                }\r\n                else {\r\n                    mapRetRes[sUrl] = pRes;\r\n                }\r\n            });\r\n            function multipleLoadDone() {\r\n                aryLoadUrl.forEach(sUrl => {\r\n                    sUrl = sUrl.url;\r\n                    mapRetRes[sUrl] = Laya.Loader.getRes(sUrl);\r\n                });\r\n                if (fComplete)\r\n                    fComplete.runWith(mapRetRes);\r\n            }\r\n            ;\r\n            if (aryLoadUrl.length > 0) {\r\n                Laya.loader.create(aryLoadUrl, Laya.Handler.create(this, multipleLoadDone));\r\n            }\r\n            else {\r\n                Laya.timer.frameOnce(1, this, multipleLoadDone);\r\n            }\r\n        }\r\n        else {\r\n            let pRes = Laya.Loader.getRes(pUrl);\r\n            function singleLoadDone() {\r\n                if (fComplete)\r\n                    fComplete.runWith(Laya.Loader.getRes(pUrl));\r\n            }\r\n            if (pRes == null) {\r\n                Laya.loader.create(pUrl, Laya.Handler.create(this, singleLoadDone));\r\n            }\r\n            else {\r\n                Laya.timer.frameOnce(1, this, singleLoadDone);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ResourceManager.js.map",
  "references": [
    "E:/project/duorou/client/src/common/Singleton.ts"
  ],
  "map": "{\"version\":3,\"file\":\"ResourceManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/manager/ResourceManager.ts\"],\"names\":[],\"mappings\":\"AAIA,IAAO,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAE9B,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAEhD,MAAM,OAAO,eAAgB,SAAQ,SAAS;IAUnC,OAAO,CAAC,QAAuB;IACtC,CAAC;IAEM,SAAS;IAChB,CAAC;IAEM,WAAW,CAAC,GAA2B,EAAE,QAAiB;QAC7D,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;SAEvB;aACI;YACD,IAAI,GAAG,GAAa,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,GAAG,EAAE;gBACL,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC1C,OAAO;aACV;SACJ;QAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,UAAU,GAAQ;YAE3D,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAWM,QAAQ,CAAC,IAA4B,EAAE,SAAwB;QAClE,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAErB,IAAI,SAAS,GAAG,IAAI,GAAG,EAAe,CAAC;YACvC,IAAI,UAAU,GAAkB,EAAE,CAAC;YAEnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAChB,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,IAAI,IAAI,IAAI,EAAE;oBACd,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACzB;qBACI;oBACD,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;iBAC1B;YACL,CAAC,CAAC,CAAC;YAEH,SAAS,gBAAgB;gBACrB,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAEtB,IAAI,GAAI,IAAY,CAAC,GAAG,CAAC;oBACzB,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC/C,CAAC,CAAC,CAAC;gBACH,IAAI,SAAS;oBAAE,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAChD,CAAC;YAAA,CAAC;YAEF,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,CAAC;aAC/E;iBACI;gBACD,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAC;aACnD;SACJ;aACI;YACD,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACpC,SAAS,cAAc;gBACnB,IAAI,SAAS;oBAAE,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAc,CAAC,CAAC,CAAC;YACzE,CAAC;YAED,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC,CAAC;aACvE;iBACI;gBACD,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;aACjD;SACJ;IACL,CAAC;CAmBJ\"}"
}
