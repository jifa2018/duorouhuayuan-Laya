{
  "code": "import { Singleton } from \"../common/Singleton\";\r\nimport { Utils } from \"../utils/Utils\";\r\nimport { PotManager } from \"./PotManager\";\r\nimport { GameUIManager } from \"./GameUIManager\";\r\nimport { FlowerpotSelView } from \"../game/ui/Flowerpot/FlowerpotSelView\";\r\nimport { PointFlowerStateView } from \"../game/ui/FlowerState/PointFlowerStateView\";\r\nimport { ConfigManager, Land_Cfg } from \"./ConfigManager\";\r\nimport { Player } from \"../game/player/Player\";\r\nimport { Debug } from \"../common/Debug\";\r\nimport GameScene from \"../game/scene/GameScene\";\r\nimport { unLockDialog } from \"../game/ui/Unlock/unLockDialog\";\r\nimport { LayerManager } from \"./LayerManager\";\r\nimport { UnlockView } from \"../game/ui/Unlock/UnlockView\";\r\nimport { CommonDefine } from \"../common/CommonDefine\";\r\nimport { GEvent } from \"../common/GEvent\";\r\nexport class LandManager extends Singleton {\r\n    constructor() {\r\n        super();\r\n        this._tempR = -15;\r\n        this._reallyTime = 12;\r\n        this._tipsDataList = [];\r\n        this._unlockedBottomArr = [];\r\n        this.initData();\r\n    }\r\n    initData() {\r\n        this._tipsDataList = [];\r\n        this._unlockedArr = Utils.getJSONFromLocal(\"landData\");\r\n        this._defaultLandJosnArr = ConfigManager.prototype.GetJsonToArray(Land_Cfg);\r\n        if (!this._unlockedArr) {\r\n            this._unlockedArr = new Array();\r\n            this._unlockedArr.push(\"1\");\r\n        }\r\n    }\r\n    onInitState(camera) {\r\n        this._camera = camera;\r\n        let landItemData;\r\n        let landPointData;\r\n        for (let i = 0; i < this._defaultLandJosnArr.length; i++) {\r\n            landItemData = this._defaultLandJosnArr[i];\r\n            let isUnlocked = this._unlockedArr.indexOf(landItemData.id) != -1;\r\n            if (landItemData.type == 3 && isUnlocked) {\r\n                this._camera.scene.getChildByName(\"map\").getChildByName(landItemData.strname).active = false;\r\n                return;\r\n            }\r\n            landPointData = this.getLandPoint(landItemData.type, landItemData.strname);\r\n            if (!isUnlocked && this._unlockedArr.indexOf(landItemData.preconditionID.toString()) != -1) {\r\n                this.setTipsData(landPointData.lockNode, landItemData);\r\n            }\r\n            else if (isUnlocked && landItemData.type == 2) {\r\n                this.createBottom(landItemData.strname);\r\n            }\r\n            landPointData.lockNode.active = !isUnlocked;\r\n            landPointData.modelNode.active = isUnlocked;\r\n        }\r\n    }\r\n    checkLandState(ratName) {\r\n        let unlocklandDataArr = this._defaultLandJosnArr.filter((ele, index, array) => { return ele.strname == ratName; });\r\n        let unlocklandData = unlocklandDataArr ? unlocklandDataArr[0] : null;\r\n        if (!unlocklandData)\r\n            return;\r\n        if (this._unlockedArr.indexOf(unlocklandData.id) != -1) {\r\n            if (unlocklandData.type == 1) {\r\n                this.OpenFlowerStateView(ratName);\r\n            }\r\n        }\r\n        else if (unlocklandData.type == 3) {\r\n            this.unlockMapPoint(unlocklandData);\r\n            return;\r\n        }\r\n        else if (this._unlockedArr.indexOf(unlocklandData.preconditionID.toString()) != -1) {\r\n            GameUIManager.getInstance().createUI(unLockDialog, [unlocklandData, this.unlockLandPoint.bind(this)]);\r\n        }\r\n        else {\r\n            let precoditionDataArr = this._defaultLandJosnArr.filter((ele, index, array) => { return ele.id == unlocklandData.preconditionID; });\r\n            GameUIManager.getInstance().createUI(unLockDialog, [unlocklandData, this.unlockLandPoint.bind(this), precoditionDataArr[0].struiname]);\r\n        }\r\n    }\r\n    unlockMapPoint(unlockPointData) {\r\n        if (unlockPointData.unlockstar > Player.getInstance().nStar) {\r\n            Debug.Log(\"星星不够，无法解锁\");\r\n            return;\r\n        }\r\n        if (unlockPointData.gold > Player.getInstance().nGold) {\r\n            Debug.Log(\"金币不够，无法解锁\");\r\n            return;\r\n        }\r\n        this._unlockedArr.push(unlockPointData.id);\r\n        Player.getInstance().refreshGold(-unlockPointData.gold);\r\n        Player.getInstance().refreshStar(unlockPointData.star);\r\n        Utils.saveJSONToLocal(\"landData\", this._unlockedArr);\r\n        this._camera.scene.getChildByName(\"map\").getChildByName(unlockPointData.strname).active = false;\r\n    }\r\n    unlockLandPoint(unlockPointData) {\r\n        if (unlockPointData.unlockstar > Player.getInstance().nStar) {\r\n            Debug.Log(\"星星不够，无法解锁\");\r\n            return;\r\n        }\r\n        if (unlockPointData.gold > Player.getInstance().nGold) {\r\n            Debug.Log(\"金币不够，无法解锁\");\r\n            return;\r\n        }\r\n        this._unlockedArr.push(unlockPointData.id);\r\n        this.unLockState(unlockPointData);\r\n        Player.getInstance().refreshGold(-unlockPointData.gold);\r\n        Player.getInstance().refreshStar(unlockPointData.star);\r\n        Utils.saveJSONToLocal(\"landData\", this._unlockedArr);\r\n    }\r\n    unLockState(data) {\r\n        let lockData = this.getLandPoint(data.type, data.strname);\r\n        if (data.type == 2) {\r\n            this.createBottom(data.strname);\r\n            GEvent.DispatchEvent(CommonDefine.EVENT_UNLOCK_PLANT, [data.strname]);\r\n        }\r\n        else if (data.type == 1) {\r\n            GameUIManager.getInstance().showUI(UnlockView, Laya.Handler.create(this, (view) => {\r\n                view.Init(4, -1, -1, () => { GEvent.DispatchEvent(CommonDefine.EVENT_UNLOCK_PLANT, [data.strname]); });\r\n            }));\r\n        }\r\n        let filterTipsArr = this._tipsDataList.filter((ele, index, array) => { return ele.tipsNode == lockData.lockNode; });\r\n        if (filterTipsArr && filterTipsArr.length > 0) {\r\n            let spliceIndex = this._tipsDataList.indexOf(filterTipsArr[0]);\r\n            this._tipsDataList.splice(spliceIndex, 1);\r\n            filterTipsArr[0].tipsImage.destroy(true);\r\n            filterTipsArr[0] = null;\r\n            filterTipsArr = null;\r\n            if (this._tipsDataList.length == 0)\r\n                Laya.timer.clear(this, this.onUpdate);\r\n        }\r\n        let canUnlockArr = this._defaultLandJosnArr.filter((ele, index, array) => { return data.id == ele.preconditionID.toString(); });\r\n        if (canUnlockArr && canUnlockArr.length > 0) {\r\n            let canUnlockData = null;\r\n            for (let i = 0; i < canUnlockArr.length; i++) {\r\n                canUnlockData = this.getLandPoint(canUnlockArr[i].type, canUnlockArr[i].strname);\r\n                this.setTipsData(canUnlockData.lockNode, canUnlockArr[i]);\r\n            }\r\n            canUnlockData = null;\r\n        }\r\n        lockData.modelNode.active = true;\r\n        lockData.lockNode.active = false;\r\n    }\r\n    getLandPoint(type, strname) {\r\n        let lockNodeData = { lockNode: null, modelNode: null };\r\n        if (type == 1) {\r\n            lockNodeData.lockNode = this._camera.scene.getChildByName(\"zhongzhidian\");\r\n            lockNodeData.lockNode = lockNodeData.lockNode.getChildByName(strname);\r\n            lockNodeData.modelNode = lockNodeData.lockNode.getChildAt(1);\r\n            lockNodeData.lockNode = lockNodeData.lockNode.getChildAt(0);\r\n        }\r\n        else if (type == 2) {\r\n            lockNodeData.lockNode = this._camera.scene.getChildByName(\"zhuangshiwu\");\r\n            lockNodeData.lockNode = lockNodeData.lockNode.getChildByName(strname);\r\n            lockNodeData.modelNode = lockNodeData.lockNode.getChildAt(0);\r\n        }\r\n        return lockNodeData;\r\n    }\r\n    setTipsData(lockNode, data) {\r\n        if (this._tipsDataList.some((ele, index, array) => { return ele.tipsNode == lockNode; }))\r\n            return;\r\n        let tips = {\r\n            tipsImage: null,\r\n            tipsNode: null,\r\n            tipsData: null,\r\n        };\r\n        tips.tipsData = data;\r\n        tips.tipsNode = lockNode;\r\n        tips.tipsImage = new Laya.Image(\"gameui/tipsBack.png\");\r\n        tips.tipsImage.width = tips.tipsImage.width;\r\n        tips.tipsImage.height = tips.tipsImage.height;\r\n        tips.tipsImage.pivotX = tips.tipsImage.width / 2;\r\n        tips.tipsImage.pivotY = tips.tipsImage.height;\r\n        let labImage = new Laya.Image(\"gameui/tipsBack_1.png\");\r\n        labImage.pivotX = labImage.width / 2;\r\n        labImage.pivotY = labImage.height / 2;\r\n        tips.tipsImage.addChild(labImage);\r\n        labImage.pos(tips.tipsImage.pivotX, tips.tipsImage.height / 2 - 10);\r\n        this.setTipsImagePos(tips);\r\n        LayerManager.getInstance().downUILayer.addChild(tips.tipsImage);\r\n        if (this._tipsDataList.length == 0)\r\n            Laya.timer.loop(10, this, this.onUpdate);\r\n        this._tipsDataList.push(tips);\r\n    }\r\n    onUpdate() {\r\n        if (this._reallyTime >= 25)\r\n            this._reallyTime = 0;\r\n        for (var i = 0; i < this._tipsDataList.length; ++i) {\r\n            this.setTipsImagePos(this._tipsDataList[i], this._reallyTime);\r\n        }\r\n        this._reallyTime += 0.3;\r\n    }\r\n    setTipsImagePos(tips, deltaTime) {\r\n        let v2 = Utils.worldToScreen(this._camera, tips.tipsNode.transform.position);\r\n        tips.tipsImage.pos(v2.x, v2.y - 35);\r\n        if (!deltaTime)\r\n            return;\r\n        if (deltaTime >= 8 || tips.tipsData.unlockstar > Player.getInstance().nStar\r\n            || tips.tipsData.gold > Player.getInstance().nGold) {\r\n            if (tips.tipsImage.rotation != 0)\r\n                tips.tipsImage.rotation = 0;\r\n            return;\r\n        }\r\n        tips.tipsImage.rotation = Math.sin(Math.PI * deltaTime) * this._tempR;\r\n    }\r\n    createBottom(strname) {\r\n        if (!this._unlockedBottomArr)\r\n            this._unlockedBottomArr = new Array();\r\n        this._unlockedBottomArr.push(strname);\r\n        GameScene.instance.initSceneDecorates();\r\n        this._camera.scene.getChildByName(\"point\").getChildByName(strname).getComponent(Laya.PhysicsCollider).enabled = false;\r\n    }\r\n    getBottomUnlockedArr() {\r\n        return this._unlockedBottomArr;\r\n    }\r\n    OpenFlowerStateView(name) {\r\n        if (!name)\r\n            return;\r\n        let tPoint = PotManager.getInstance().PotMap[name];\r\n        let potData = [];\r\n        let nLength = 0;\r\n        if (tPoint) {\r\n            for (const key in tPoint.PotList) {\r\n                nLength++;\r\n            }\r\n        }\r\n        if (nLength <= 0) {\r\n            GameUIManager.getInstance().createUI(FlowerpotSelView, [name, 0]);\r\n            return;\r\n        }\r\n        GameUIManager.getInstance().createUI(PointFlowerStateView, [name]);\r\n    }\r\n}\r\n//# sourceMappingURL=LandManager.js.map",
  "references": [
    "E:/project/duorou/client/src/common/Singleton.ts",
    "E:/project/duorou/client/src/utils/Utils.ts",
    "E:/project/duorou/client/src/manager/PotManager.ts",
    "E:/project/duorou/client/src/manager/GameUIManager.ts",
    "E:/project/duorou/client/src/game/ui/Flowerpot/FlowerpotSelView.ts",
    "E:/project/duorou/client/src/game/ui/FlowerState/PointFlowerStateView.ts",
    "E:/project/duorou/client/src/manager/ConfigManager.ts",
    "E:/project/duorou/client/src/game/player/Player.ts",
    "E:/project/duorou/client/src/common/Debug.ts",
    "E:/project/duorou/client/src/manager/SaveManager.ts",
    "E:/project/duorou/client/src/game/scene/GameScene.ts",
    "E:/project/duorou/client/src/game/ui/Unlock/unLockDialog.ts",
    "E:/project/duorou/client/src/game/item/BottomCreater.ts",
    "E:/project/duorou/client/src/effect/ResourcePool.ts",
    "E:/project/duorou/client/src/manager/LayerManager.ts",
    "E:/project/duorou/client/src/game/ui/Unlock/UnlockView.ts",
    "E:/project/duorou/client/src/common/CommonDefine.ts",
    "E:/project/duorou/client/src/common/GEvent.ts"
  ],
  "map": "{\"version\":3,\"file\":\"LandManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/manager/LandManager.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
